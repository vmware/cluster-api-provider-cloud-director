apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-kapp-controller
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-kapp-controller-crs
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
  name: __CLUSTER_NAME__-kapp-controller-crs
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: v1
    kind: Namespace
    metadata:
      name: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    ---
    apiVersion: v1
    kind: Namespace
    metadata:
      name: tanzu-package-repo-global
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    ---
    apiVersion: apiregistration.k8s.io/v1
    kind: APIService
    metadata:
      name: v1alpha1.data.packaging.carvel.dev
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    spec:
      group: data.packaging.carvel.dev
      groupPriorityMinimum: 100
      service:
        name: packaging-api
        namespace: tkg-system
      version: v1alpha1
      versionPriority: 100
    ---
    apiVersion: v1
    kind: Service
    metadata:
      name: packaging-api
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    spec:
      ports:
      - port: 443
        protocol: TCP
        targetPort: api
      selector:
        app: kapp-controller
    ---
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      name: internalpackagemetadatas.internal.packaging.carvel.dev
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    spec:
      group: internal.packaging.carvel.dev
      names:
        kind: InternalPackageMetadata
        listKind: InternalPackageMetadataList
        plural: internalpackagemetadatas
        singular: internalpackagemetadata
      scope: Namespaced
      versions:
      - name: v1alpha1
        schema:
          openAPIV3Schema:
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                properties:
                  categories:
                    description: Classifiers of the package (optional; Array of strings)
                    items:
                      type: string
                    type: array
                  displayName:
                    description: Human friendly name of the package (optional; string)
                    type: string
                  iconSVGBase64:
                    description: Base64 encoded icon (optional; string)
                    type: string
                  longDescription:
                    description: Long description of the package (optional; string)
                    type: string
                  maintainers:
                    description: List of maintainer info for the package. Currently only supports the name key. (optional; array of maintner info)
                    items:
                      properties:
                        name:
                          type: string
                      type: object
                    type: array
                  providerName:
                    description: Name of the entity distributing the package (optional; string)
                    type: string
                  shortDescription:
                    description: Short desription of the package (optional; string)
                    type: string
                  supportDescription:
                    description: Description of the support available for the package (optional; string)
                    type: string
                type: object
            required:
            - spec
            type: object
        served: true
        storage: true
        subresources:
          status: {}
    ---
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      name: internalpackages.internal.packaging.carvel.dev
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    spec:
      group: internal.packaging.carvel.dev
      names:
        kind: InternalPackage
        listKind: InternalPackageList
        plural: internalpackages
        singular: internalpackage
      scope: Namespaced
      versions:
      - name: v1alpha1
        schema:
          openAPIV3Schema:
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                properties:
                  capacityRequirementsDescription:
                    description: 'System requirements needed to install the package. Note: these requirements will not be verified by kapp-controller on installation. (optional; string)'
                    type: string
                  includedSoftware:
                    description: IncludedSoftware can be used to show the software contents of a Package. This is especially useful if the underlying versions do not match the Package version
                    items:
                      description: IncludedSoftware contains the underlying Software Contents of a Package
                      properties:
                        description:
                          type: string
                        displayName:
                          type: string
                        version:
                          type: string
                      type: object
                    type: array
                  licenses:
                    description: Description of the licenses that apply to the package software (optional; Array of strings)
                    items:
                      type: string
                    type: array
                  refName:
                    description: The name of the PackageMetadata associated with this version Must be a valid PackageMetadata name (see PackageMetadata CR for details) Cannot be empty
                    type: string
                  releaseNotes:
                    description: Version release notes (optional; string)
                    type: string
                  releasedAt:
                    description: Timestamp of release (iso8601 formatted string; optional)
                    format: date-time
                    nullable: true
                    type: string
                  template:
                    properties:
                      spec:
                        properties:
                          canceled:
                            description: Cancels current and future reconciliations (optional; default=false)
                            type: boolean
                          cluster:
                            description: Specifies that app should be deployed to destination cluster; by default, cluster is same as where this resource resides (optional; v0.5.0+)
                            properties:
                              kubeconfigSecretRef:
                                description: Specifies secret containing kubeconfig (required)
                                properties:
                                  key:
                                    description: Specifies key that contains kubeconfig (optional)
                                    type: string
                                  name:
                                    description: Specifies secret name within app's namespace (required)
                                    type: string
                                type: object
                              namespace:
                                description: Specifies namespace in destination cluster (optional)
                                type: string
                            type: object
                          deploy:
                            items:
                              properties:
                                kapp:
                                  description: Use kapp to deploy resources
                                  properties:
                                    delete:
                                      description: Configuration for delete command (optional)
                                      properties:
                                        rawOptions:
                                          description: Pass through options to kapp delete (optional)
                                          items:
                                            type: string
                                          type: array
                                      type: object
                                    inspect:
                                      description: 'Configuration for inspect command (optional) as of kapp-controller v0.31.0, inspect is disabled by default add rawOptions or use an empty inspect config like `inspect: {}` to enable'
                                      properties:
                                        rawOptions:
                                          description: Pass through options to kapp inspect (optional)
                                          items:
                                            type: string
                                          type: array
                                      type: object
                                    intoNs:
                                      description: Override namespace for all resources (optional)
                                      type: string
                                    mapNs:
                                      description: Provide custom namespace override mapping (optional)
                                      items:
                                        type: string
                                      type: array
                                    rawOptions:
                                      description: Pass through options to kapp deploy (optional)
                                      items:
                                        type: string
                                      type: array
                                  type: object
                              type: object
                            type: array
                          fetch:
                            items:
                              properties:
                                git:
                                  description: Uses git to clone repository
                                  properties:
                                    lfsSkipSmudge:
                                      description: Skip lfs download (optional)
                                      type: boolean
                                    ref:
                                      description: Branch, tag, commit; origin is the name of the remote (optional)
                                      type: string
                                    refSelection:
                                      description: Specifies a strategy to resolve to an explicit ref (optional; v0.24.0+)
                                      properties:
                                        semver:
                                          properties:
                                            constraints:
                                              type: string
                                            prereleases:
                                              properties:
                                                identifiers:
                                                  items:
                                                    type: string
                                                  type: array
                                              type: object
                                          type: object
                                      type: object
                                    secretRef:
                                      description: 'Secret with auth details. allowed keys: ssh-privatekey, ssh-knownhosts, username, password (optional) (if ssh-knownhosts is not specified, git will not perform strict host checking)'
                                      properties:
                                        name:
                                          description: Object is expected to be within same namespace
                                          type: string
                                      type: object
                                    subPath:
                                      description: Grab only portion of repository (optional)
                                      type: string
                                    url:
                                      description: http or ssh urls are supported (required)
                                      type: string
                                  type: object
                                helmChart:
                                  description: Uses helm fetch to fetch specified chart
                                  properties:
                                    name:
                                      description: 'Example: stable/redis'
                                      type: string
                                    repository:
                                      properties:
                                        secretRef:
                                          properties:
                                            name:
                                              description: Object is expected to be within same namespace
                                              type: string
                                          type: object
                                        url:
                                          description: Repository url; scheme of oci:// will fetch experimental helm oci chart (v0.19.0+) (required)
                                          type: string
                                      type: object
                                    version:
                                      type: string
                                  type: object
                                http:
                                  description: Uses http library to fetch file
                                  properties:
                                    secretRef:
                                      description: 'Secret to provide auth details (optional) Secret may include one or more keys: username, password'
                                      properties:
                                        name:
                                          description: Object is expected to be within same namespace
                                          type: string
                                      type: object
                                    sha256:
                                      description: Checksum to verify after download (optional)
                                      type: string
                                    subPath:
                                      description: Grab only portion of download (optional)
                                      type: string
                                    url:
                                      description: 'URL can point to one of following formats: text, tgz, zip http and https url are supported; plain file, tgz and tar types are supported (required)'
                                      type: string
                                  type: object
                                image:
                                  description: Pulls content from Docker/OCI registry
                                  properties:
                                    secretRef:
                                      description: 'Secret may include one or more keys: username, password, token. By default anonymous access is used for authentication.'
                                      properties:
                                        name:
                                          description: Object is expected to be within same namespace
                                          type: string
                                      type: object
                                    subPath:
                                      description: Grab only portion of image (optional)
                                      type: string
                                    tagSelection:
                                      description: Specifies a strategy to choose a tag (optional; v0.24.0+) if specified, do not include a tag in url key
                                      properties:
                                        semver:
                                          properties:
                                            constraints:
                                              type: string
                                            prereleases:
                                              properties:
                                                identifiers:
                                                  items:
                                                    type: string
                                                  type: array
                                              type: object
                                          type: object
                                      type: object
                                    url:
                                      description: 'Docker image url; unqualified, tagged, or digest references supported (required) Example: username/app1-config:v0.1.0'
                                      type: string
                                  type: object
                                imgpkgBundle:
                                  description: Pulls imgpkg bundle from Docker/OCI registry (v0.17.0+)
                                  properties:
                                    image:
                                      description: Docker image url; unqualified, tagged, or digest references supported (required)
                                      type: string
                                    secretRef:
                                      description: 'Secret may include one or more keys: username, password, token. By default anonymous access is used for authentication.'
                                      properties:
                                        name:
                                          description: Object is expected to be within same namespace
                                          type: string
                                      type: object
                                    tagSelection:
                                      description: Specifies a strategy to choose a tag (optional; v0.24.0+) if specified, do not include a tag in url key
                                      properties:
                                        semver:
                                          properties:
                                            constraints:
                                              type: string
                                            prereleases:
                                              properties:
                                                identifiers:
                                                  items:
                                                    type: string
                                                  type: array
                                              type: object
                                          type: object
                                      type: object
                                  type: object
                                inline:
                                  description: Pulls content from within this resource; or other resources in the cluster
                                  properties:
                                    paths:
                                      additionalProperties:
                                        type: string
                                      description: Specifies mapping of paths to their content; not recommended for sensitive values as CR is not encrypted (optional)
                                      type: object
                                    pathsFrom:
                                      description: Specifies content via secrets and config maps; data values are recommended to be placed in secrets (optional)
                                      items:
                                        properties:
                                          configMapRef:
                                            properties:
                                              directoryPath:
                                                description: Specifies where to place files found in secret (optional)
                                                type: string
                                              name:
                                                type: string
                                            type: object
                                          secretRef:
                                            properties:
                                              directoryPath:
                                                description: Specifies where to place files found in secret (optional)
                                                type: string
                                              name:
                                                type: string
                                            type: object
                                        type: object
                                      type: array
                                  type: object
                                path:
                                  description: Relative path to place the fetched artifacts
                                  type: string
                              type: object
                            type: array
                          noopDelete:
                            description: Deletion requests for the App will result in the App CR being deleted, but its associated resources will not be deleted (optional; default=false; v0.18.0+)
                            type: boolean
                          paused:
                            description: Pauses _future_ reconciliation; does _not_ affect currently running reconciliation (optional; default=false)
                            type: boolean
                          serviceAccountName:
                            description: Specifies that app should be deployed authenticated via given service account, found in this namespace (optional; v0.6.0+)
                            type: string
                          syncPeriod:
                            description: Specifies the length of time to wait, in time + unit format, before reconciling. Always >= 30s. If value below 30s is specified, 30s will be used. (optional; v0.9.0+; default=30s)
                            type: string
                          template:
                            items:
                              properties:
                                cue:
                                  properties:
                                    inputExpression:
                                      description: Cue expression for single path component, can be used to unify ValuesFrom into a given field (optional)
                                      type: string
                                    outputExpression:
                                      description: Cue expression to output, default will export all visible fields (optional)
                                      type: string
                                    paths:
                                      description: Explicit list of files/directories (optional)
                                      items:
                                        type: string
                                      type: array
                                    valuesFrom:
                                      description: Provide values (optional)
                                      items:
                                        properties:
                                          configMapRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          path:
                                            type: string
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                        type: object
                                      type: array
                                  type: object
                                helmTemplate:
                                  description: Use helm template command to render helm chart
                                  properties:
                                    name:
                                      description: Set name explicitly, default is App CR's name (optional; v0.13.0+)
                                      type: string
                                    namespace:
                                      description: Set namespace explicitly, default is App CR's namespace (optional; v0.13.0+)
                                      type: string
                                    path:
                                      description: Path to chart (optional; v0.13.0+)
                                      type: string
                                    valuesFrom:
                                      description: One or more secrets, config maps, paths that provide values (optional)
                                      items:
                                        properties:
                                          configMapRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          path:
                                            type: string
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                        type: object
                                      type: array
                                  type: object
                                jsonnet:
                                  description: TODO implement jsonnet
                                  type: object
                                kbld:
                                  description: Use kbld to resolve image references to use digests
                                  properties:
                                    paths:
                                      items:
                                        type: string
                                      type: array
                                  type: object
                                kustomize:
                                  description: TODO implement kustomize
                                  type: object
                                sops:
                                  description: Use sops to decrypt *.sops.yml files (optional; v0.11.0+)
                                  properties:
                                    age:
                                      properties:
                                        privateKeysSecretRef:
                                          description: Secret with private armored PGP private keys (required)
                                          properties:
                                            name:
                                              type: string
                                          type: object
                                      type: object
                                    paths:
                                      description: Lists paths to decrypt explicitly (optional; v0.13.0+)
                                      items:
                                        type: string
                                      type: array
                                    pgp:
                                      description: Use PGP to decrypt files (required)
                                      properties:
                                        privateKeysSecretRef:
                                          description: Secret with private armored PGP private keys (required)
                                          properties:
                                            name:
                                              type: string
                                          type: object
                                      type: object
                                  type: object
                                ytt:
                                  description: Use ytt to template configuration
                                  properties:
                                    fileMarks:
                                      description: Control metadata about input files passed to ytt (optional; v0.18.0+) see https://carvel.dev/ytt/docs/latest/file-marks/ for more details
                                      items:
                                        type: string
                                      type: array
                                    ignoreUnknownComments:
                                      description: Ignores comments that ytt doesn't recognize (optional; default=false)
                                      type: boolean
                                    inline:
                                      description: Specify additional files, including data values (optional)
                                      properties:
                                        paths:
                                          additionalProperties:
                                            type: string
                                          description: Specifies mapping of paths to their content; not recommended for sensitive values as CR is not encrypted (optional)
                                          type: object
                                        pathsFrom:
                                          description: Specifies content via secrets and config maps; data values are recommended to be placed in secrets (optional)
                                          items:
                                            properties:
                                              configMapRef:
                                                properties:
                                                  directoryPath:
                                                    description: Specifies where to place files found in secret (optional)
                                                    type: string
                                                  name:
                                                    type: string
                                                type: object
                                              secretRef:
                                                properties:
                                                  directoryPath:
                                                    description: Specifies where to place files found in secret (optional)
                                                    type: string
                                                  name:
                                                    type: string
                                                type: object
                                            type: object
                                          type: array
                                      type: object
                                    paths:
                                      description: Lists paths to provide to ytt explicitly (optional)
                                      items:
                                        type: string
                                      type: array
                                    strict:
                                      description: Forces strict mode https://github.com/k14s/ytt/blob/develop/docs/strict.md (optional; default=false)
                                      type: boolean
                                    valuesFrom:
                                      description: Provide values via ytt's --data-values-file (optional; v0.19.0-alpha.9)
                                      items:
                                        properties:
                                          configMapRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                          path:
                                            type: string
                                          secretRef:
                                            properties:
                                              name:
                                                type: string
                                            type: object
                                        type: object
                                      type: array
                                  type: object
                              type: object
                            type: array
                        type: object
                    required:
                    - spec
                    type: object
                  valuesSchema:
                    description: valuesSchema can be used to show template values that can be configured by users when a Package is installed in an OpenAPI schema format.
                    properties:
                      openAPIv3:
                        nullable: true
                        type: object
                        x-kubernetes-preserve-unknown-fields: true
                    type: object
                  version:
                    description: Package version; Referenced by PackageInstall; Must be valid semver (required) Cannot be empty
                    type: string
                type: object
            required:
            - spec
            type: object
        served: true
        storage: true
        subresources:
          status: {}
    ---
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      name: apps.kappctrl.k14s.io
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    spec:
      group: kappctrl.k14s.io
      names:
        categories:
        - carvel
        kind: App
        listKind: AppList
        plural: apps
        singular: app
      scope: Namespaced
      versions:
      - additionalPrinterColumns:
        - description: Friendly description
          jsonPath: .status.friendlyDescription
          name: Description
          type: string
        - description: Last time app started being deployed. Does not mean anything was changed.
          jsonPath: .status.deploy.startedAt
          name: Since-Deploy
          type: date
        - description: Time since creation
          jsonPath: .metadata.creationTimestamp
          name: Age
          type: date
        name: v1alpha1
        schema:
          openAPIV3Schema:
            description: 'An App is a set of Kubernetes resources. These resources could span any number of namespaces or could be cluster-wide (e.g. CRDs). An App is represented in kapp-controller using a App CR. The App CR comprises of three main sections: spec.fetch – declare source for fetching configuration and OCI images spec.template – declare templating tool and values spec.deploy – declare deployment tool and any deploy specific configuration'
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                properties:
                  canceled:
                    description: Cancels current and future reconciliations (optional; default=false)
                    type: boolean
                  cluster:
                    description: Specifies that app should be deployed to destination cluster; by default, cluster is same as where this resource resides (optional; v0.5.0+)
                    properties:
                      kubeconfigSecretRef:
                        description: Specifies secret containing kubeconfig (required)
                        properties:
                          key:
                            description: Specifies key that contains kubeconfig (optional)
                            type: string
                          name:
                            description: Specifies secret name within app's namespace (required)
                            type: string
                        type: object
                      namespace:
                        description: Specifies namespace in destination cluster (optional)
                        type: string
                    type: object
                  deploy:
                    items:
                      properties:
                        kapp:
                          description: Use kapp to deploy resources
                          properties:
                            delete:
                              description: Configuration for delete command (optional)
                              properties:
                                rawOptions:
                                  description: Pass through options to kapp delete (optional)
                                  items:
                                    type: string
                                  type: array
                              type: object
                            inspect:
                              description: 'Configuration for inspect command (optional) as of kapp-controller v0.31.0, inspect is disabled by default add rawOptions or use an empty inspect config like `inspect: {}` to enable'
                              properties:
                                rawOptions:
                                  description: Pass through options to kapp inspect (optional)
                                  items:
                                    type: string
                                  type: array
                              type: object
                            intoNs:
                              description: Override namespace for all resources (optional)
                              type: string
                            mapNs:
                              description: Provide custom namespace override mapping (optional)
                              items:
                                type: string
                              type: array
                            rawOptions:
                              description: Pass through options to kapp deploy (optional)
                              items:
                                type: string
                              type: array
                          type: object
                      type: object
                    type: array
                  fetch:
                    items:
                      properties:
                        git:
                          description: Uses git to clone repository
                          properties:
                            lfsSkipSmudge:
                              description: Skip lfs download (optional)
                              type: boolean
                            ref:
                              description: Branch, tag, commit; origin is the name of the remote (optional)
                              type: string
                            refSelection:
                              description: Specifies a strategy to resolve to an explicit ref (optional; v0.24.0+)
                              properties:
                                semver:
                                  properties:
                                    constraints:
                                      type: string
                                    prereleases:
                                      properties:
                                        identifiers:
                                          items:
                                            type: string
                                          type: array
                                      type: object
                                  type: object
                              type: object
                            secretRef:
                              description: 'Secret with auth details. allowed keys: ssh-privatekey, ssh-knownhosts, username, password (optional) (if ssh-knownhosts is not specified, git will not perform strict host checking)'
                              properties:
                                name:
                                  description: Object is expected to be within same namespace
                                  type: string
                              type: object
                            subPath:
                              description: Grab only portion of repository (optional)
                              type: string
                            url:
                              description: http or ssh urls are supported (required)
                              type: string
                          type: object
                        helmChart:
                          description: Uses helm fetch to fetch specified chart
                          properties:
                            name:
                              description: 'Example: stable/redis'
                              type: string
                            repository:
                              properties:
                                secretRef:
                                  properties:
                                    name:
                                      description: Object is expected to be within same namespace
                                      type: string
                                  type: object
                                url:
                                  description: Repository url; scheme of oci:// will fetch experimental helm oci chart (v0.19.0+) (required)
                                  type: string
                              type: object
                            version:
                              type: string
                          type: object
                        http:
                          description: Uses http library to fetch file
                          properties:
                            secretRef:
                              description: 'Secret to provide auth details (optional) Secret may include one or more keys: username, password'
                              properties:
                                name:
                                  description: Object is expected to be within same namespace
                                  type: string
                              type: object
                            sha256:
                              description: Checksum to verify after download (optional)
                              type: string
                            subPath:
                              description: Grab only portion of download (optional)
                              type: string
                            url:
                              description: 'URL can point to one of following formats: text, tgz, zip http and https url are supported; plain file, tgz and tar types are supported (required)'
                              type: string
                          type: object
                        image:
                          description: Pulls content from Docker/OCI registry
                          properties:
                            secretRef:
                              description: 'Secret may include one or more keys: username, password, token. By default anonymous access is used for authentication.'
                              properties:
                                name:
                                  description: Object is expected to be within same namespace
                                  type: string
                              type: object
                            subPath:
                              description: Grab only portion of image (optional)
                              type: string
                            tagSelection:
                              description: Specifies a strategy to choose a tag (optional; v0.24.0+) if specified, do not include a tag in url key
                              properties:
                                semver:
                                  properties:
                                    constraints:
                                      type: string
                                    prereleases:
                                      properties:
                                        identifiers:
                                          items:
                                            type: string
                                          type: array
                                      type: object
                                  type: object
                              type: object
                            url:
                              description: 'Docker image url; unqualified, tagged, or digest references supported (required) Example: username/app1-config:v0.1.0'
                              type: string
                          type: object
                        imgpkgBundle:
                          description: Pulls imgpkg bundle from Docker/OCI registry (v0.17.0+)
                          properties:
                            image:
                              description: Docker image url; unqualified, tagged, or digest references supported (required)
                              type: string
                            secretRef:
                              description: 'Secret may include one or more keys: username, password, token. By default anonymous access is used for authentication.'
                              properties:
                                name:
                                  description: Object is expected to be within same namespace
                                  type: string
                              type: object
                            tagSelection:
                              description: Specifies a strategy to choose a tag (optional; v0.24.0+) if specified, do not include a tag in url key
                              properties:
                                semver:
                                  properties:
                                    constraints:
                                      type: string
                                    prereleases:
                                      properties:
                                        identifiers:
                                          items:
                                            type: string
                                          type: array
                                      type: object
                                  type: object
                              type: object
                          type: object
                        inline:
                          description: Pulls content from within this resource; or other resources in the cluster
                          properties:
                            paths:
                              additionalProperties:
                                type: string
                              description: Specifies mapping of paths to their content; not recommended for sensitive values as CR is not encrypted (optional)
                              type: object
                            pathsFrom:
                              description: Specifies content via secrets and config maps; data values are recommended to be placed in secrets (optional)
                              items:
                                properties:
                                  configMapRef:
                                    properties:
                                      directoryPath:
                                        description: Specifies where to place files found in secret (optional)
                                        type: string
                                      name:
                                        type: string
                                    type: object
                                  secretRef:
                                    properties:
                                      directoryPath:
                                        description: Specifies where to place files found in secret (optional)
                                        type: string
                                      name:
                                        type: string
                                    type: object
                                type: object
                              type: array
                          type: object
                        path:
                          description: Relative path to place the fetched artifacts
                          type: string
                      type: object
                    type: array
                  noopDelete:
                    description: Deletion requests for the App will result in the App CR being deleted, but its associated resources will not be deleted (optional; default=false; v0.18.0+)
                    type: boolean
                  paused:
                    description: Pauses _future_ reconciliation; does _not_ affect currently running reconciliation (optional; default=false)
                    type: boolean
                  serviceAccountName:
                    description: Specifies that app should be deployed authenticated via given service account, found in this namespace (optional; v0.6.0+)
                    type: string
                  syncPeriod:
                    description: Specifies the length of time to wait, in time + unit format, before reconciling. Always >= 30s. If value below 30s is specified, 30s will be used. (optional; v0.9.0+; default=30s)
                    type: string
                  template:
                    items:
                      properties:
                        cue:
                          properties:
                            inputExpression:
                              description: Cue expression for single path component, can be used to unify ValuesFrom into a given field (optional)
                              type: string
                            outputExpression:
                              description: Cue expression to output, default will export all visible fields (optional)
                              type: string
                            paths:
                              description: Explicit list of files/directories (optional)
                              items:
                                type: string
                              type: array
                            valuesFrom:
                              description: Provide values (optional)
                              items:
                                properties:
                                  configMapRef:
                                    properties:
                                      name:
                                        type: string
                                    type: object
                                  path:
                                    type: string
                                  secretRef:
                                    properties:
                                      name:
                                        type: string
                                    type: object
                                type: object
                              type: array
                          type: object
                        helmTemplate:
                          description: Use helm template command to render helm chart
                          properties:
                            name:
                              description: Set name explicitly, default is App CR's name (optional; v0.13.0+)
                              type: string
                            namespace:
                              description: Set namespace explicitly, default is App CR's namespace (optional; v0.13.0+)
                              type: string
                            path:
                              description: Path to chart (optional; v0.13.0+)
                              type: string
                            valuesFrom:
                              description: One or more secrets, config maps, paths that provide values (optional)
                              items:
                                properties:
                                  configMapRef:
                                    properties:
                                      name:
                                        type: string
                                    type: object
                                  path:
                                    type: string
                                  secretRef:
                                    properties:
                                      name:
                                        type: string
                                    type: object
                                type: object
                              type: array
                          type: object
                        jsonnet:
                          description: TODO implement jsonnet
                          type: object
                        kbld:
                          description: Use kbld to resolve image references to use digests
                          properties:
                            paths:
                              items:
                                type: string
                              type: array
                          type: object
                        kustomize:
                          description: TODO implement kustomize
                          type: object
                        sops:
                          description: Use sops to decrypt *.sops.yml files (optional; v0.11.0+)
                          properties:
                            age:
                              properties:
                                privateKeysSecretRef:
                                  description: Secret with private armored PGP private keys (required)
                                  properties:
                                    name:
                                      type: string
                                  type: object
                              type: object
                            paths:
                              description: Lists paths to decrypt explicitly (optional; v0.13.0+)
                              items:
                                type: string
                              type: array
                            pgp:
                              description: Use PGP to decrypt files (required)
                              properties:
                                privateKeysSecretRef:
                                  description: Secret with private armored PGP private keys (required)
                                  properties:
                                    name:
                                      type: string
                                  type: object
                              type: object
                          type: object
                        ytt:
                          description: Use ytt to template configuration
                          properties:
                            fileMarks:
                              description: Control metadata about input files passed to ytt (optional; v0.18.0+) see https://carvel.dev/ytt/docs/latest/file-marks/ for more details
                              items:
                                type: string
                              type: array
                            ignoreUnknownComments:
                              description: Ignores comments that ytt doesn't recognize (optional; default=false)
                              type: boolean
                            inline:
                              description: Specify additional files, including data values (optional)
                              properties:
                                paths:
                                  additionalProperties:
                                    type: string
                                  description: Specifies mapping of paths to their content; not recommended for sensitive values as CR is not encrypted (optional)
                                  type: object
                                pathsFrom:
                                  description: Specifies content via secrets and config maps; data values are recommended to be placed in secrets (optional)
                                  items:
                                    properties:
                                      configMapRef:
                                        properties:
                                          directoryPath:
                                            description: Specifies where to place files found in secret (optional)
                                            type: string
                                          name:
                                            type: string
                                        type: object
                                      secretRef:
                                        properties:
                                          directoryPath:
                                            description: Specifies where to place files found in secret (optional)
                                            type: string
                                          name:
                                            type: string
                                        type: object
                                    type: object
                                  type: array
                              type: object
                            paths:
                              description: Lists paths to provide to ytt explicitly (optional)
                              items:
                                type: string
                              type: array
                            strict:
                              description: Forces strict mode https://github.com/k14s/ytt/blob/develop/docs/strict.md (optional; default=false)
                              type: boolean
                            valuesFrom:
                              description: Provide values via ytt's --data-values-file (optional; v0.19.0-alpha.9)
                              items:
                                properties:
                                  configMapRef:
                                    properties:
                                      name:
                                        type: string
                                    type: object
                                  path:
                                    type: string
                                  secretRef:
                                    properties:
                                      name:
                                        type: string
                                    type: object
                                type: object
                              type: array
                          type: object
                      type: object
                    type: array
                type: object
              status:
                properties:
                  conditions:
                    items:
                      properties:
                        message:
                          description: Human-readable message indicating details about last transition.
                          type: string
                        reason:
                          description: Unique, this should be a short, machine understandable string that gives the reason for condition's last transition. If it reports "ResizeStarted" that means the underlying persistent volume is being resized.
                          type: string
                        status:
                          type: string
                        type:
                          description: ConditionType represents reconciler state
                          type: string
                      required:
                      - status
                      - type
                      type: object
                    type: array
                  consecutiveReconcileFailures:
                    type: integer
                  consecutiveReconcileSuccesses:
                    type: integer
                  deploy:
                    properties:
                      error:
                        type: string
                      exitCode:
                        type: integer
                      finished:
                        type: boolean
                      startedAt:
                        format: date-time
                        type: string
                      stderr:
                        type: string
                      stdout:
                        type: string
                      updatedAt:
                        format: date-time
                        type: string
                    type: object
                  fetch:
                    properties:
                      error:
                        type: string
                      exitCode:
                        type: integer
                      startedAt:
                        format: date-time
                        type: string
                      stderr:
                        type: string
                      stdout:
                        type: string
                      updatedAt:
                        format: date-time
                        type: string
                    type: object
                  friendlyDescription:
                    type: string
                  inspect:
                    properties:
                      error:
                        type: string
                      exitCode:
                        type: integer
                      stderr:
                        type: string
                      stdout:
                        type: string
                      updatedAt:
                        format: date-time
                        type: string
                    type: object
                  managedAppName:
                    type: string
                  observedGeneration:
                    description: Populated based on metadata.generation when controller observes a change to the resource; if this value is out of data, other status fields do not reflect latest state
                    format: int64
                    type: integer
                  template:
                    properties:
                      error:
                        type: string
                      exitCode:
                        type: integer
                      stderr:
                        type: string
                      updatedAt:
                        format: date-time
                        type: string
                    type: object
                  usefulErrorMessage:
                    type: string
                type: object
            required:
            - spec
            type: object
        served: true
        storage: true
        subresources:
          status: {}
    ---
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      name: packageinstalls.packaging.carvel.dev
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    spec:
      group: packaging.carvel.dev
      names:
        categories:
        - carvel
        kind: PackageInstall
        listKind: PackageInstallList
        plural: packageinstalls
        shortNames:
        - pkgi
        singular: packageinstall
      scope: Namespaced
      versions:
      - additionalPrinterColumns:
        - description: PackageMetadata name
          jsonPath: .spec.packageRef.refName
          name: Package name
          type: string
        - description: PackageMetadata version
          jsonPath: .status.version
          name: Package version
          type: string
        - description: Friendly description
          jsonPath: .status.friendlyDescription
          name: Description
          type: string
        - description: Time since creation
          jsonPath: .metadata.creationTimestamp
          name: Age
          type: date
        name: v1alpha1
        schema:
          openAPIV3Schema:
            description: A Package Install is an actual installation of a package and its underlying resources on a Kubernetes cluster. It is represented in kapp-controller by a PackageInstall CR. A PackageInstall CR must reference a Package CR.
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                properties:
                  canceled:
                    description: Canceled when set to true will stop all active changes
                    type: boolean
                  cluster:
                    description: Specifies that Package should be deployed to destination cluster; by default, cluster is same as where this resource resides (optional)
                    properties:
                      kubeconfigSecretRef:
                        description: Specifies secret containing kubeconfig (required)
                        properties:
                          key:
                            description: Specifies key that contains kubeconfig (optional)
                            type: string
                          name:
                            description: Specifies secret name within app's namespace (required)
                            type: string
                        type: object
                      namespace:
                        description: Specifies namespace in destination cluster (optional)
                        type: string
                    type: object
                  noopDelete:
                    description: When NoopDelete set to true, PackageInstall deletion should delete PackageInstall/App CR but preserve App's associated resources.
                    type: boolean
                  packageRef:
                    description: Specifies the name of the package to install (required)
                    properties:
                      refName:
                        type: string
                      versionSelection:
                        properties:
                          constraints:
                            type: string
                          prereleases:
                            properties:
                              identifiers:
                                items:
                                  type: string
                                type: array
                            type: object
                        type: object
                    type: object
                  paused:
                    description: Paused when set to true will ignore all pending changes, once it set back to false, pending changes will be applied
                    type: boolean
                  serviceAccountName:
                    description: Specifies service account that will be used to install underlying package contents
                    type: string
                  syncPeriod:
                    description: Controls frequency of App reconciliation in time + unit format. Always >= 30s. If value below 30s is specified, 30s will be used.
                    type: string
                  values:
                    description: Values to be included in package's templating step (currently only included in the first templating step) (optional)
                    items:
                      properties:
                        secretRef:
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                          type: object
                      type: object
                    type: array
                type: object
              status:
                properties:
                  conditions:
                    items:
                      properties:
                        message:
                          description: Human-readable message indicating details about last transition.
                          type: string
                        reason:
                          description: Unique, this should be a short, machine understandable string that gives the reason for condition's last transition. If it reports "ResizeStarted" that means the underlying persistent volume is being resized.
                          type: string
                        status:
                          type: string
                        type:
                          description: ConditionType represents reconciler state
                          type: string
                      required:
                      - status
                      - type
                      type: object
                    type: array
                  friendlyDescription:
                    type: string
                  lastAttemptedVersion:
                    description: LastAttemptedVersion specifies what version was last attempted to be installed. It does _not_ indicate it was successfully installed.
                    type: string
                  observedGeneration:
                    description: Populated based on metadata.generation when controller observes a change to the resource; if this value is out of data, other status fields do not reflect latest state
                    format: int64
                    type: integer
                  usefulErrorMessage:
                    type: string
                  version:
                    description: TODO this is desired resolved version (not actually deployed)
                    type: string
                type: object
            required:
            - spec
            type: object
        served: true
        storage: true
        subresources:
          status: {}
    ---
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      annotations:
        packaging.carvel.dev/global-namespace: tanzu-package-repo-global
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
      name: packagerepositories.packaging.carvel.dev
    spec:
      group: packaging.carvel.dev
      names:
        categories:
        - carvel
        kind: PackageRepository
        listKind: PackageRepositoryList
        plural: packagerepositories
        shortNames:
        - pkgr
        singular: packagerepository
      scope: Namespaced
      versions:
      - additionalPrinterColumns:
        - description: Time since creation
          jsonPath: .metadata.creationTimestamp
          name: Age
          type: date
        - description: Friendly description
          jsonPath: .status.friendlyDescription
          name: Description
          type: string
        name: v1alpha1
        schema:
          openAPIV3Schema:
            description: A package repository is a collection of packages and their metadata. Similar to a maven repository or a rpm repository, adding a package repository to a cluster gives users of that cluster the ability to install any of the packages from that repository.
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                properties:
                  fetch:
                    properties:
                      git:
                        description: Uses git to clone repository containing package list
                        properties:
                          lfsSkipSmudge:
                            description: Skip lfs download (optional)
                            type: boolean
                          ref:
                            description: Branch, tag, commit; origin is the name of the remote (optional)
                            type: string
                          refSelection:
                            description: Specifies a strategy to resolve to an explicit ref (optional; v0.24.0+)
                            properties:
                              semver:
                                properties:
                                  constraints:
                                    type: string
                                  prereleases:
                                    properties:
                                      identifiers:
                                        items:
                                          type: string
                                        type: array
                                    type: object
                                type: object
                            type: object
                          secretRef:
                            description: 'Secret with auth details. allowed keys: ssh-privatekey, ssh-knownhosts, username, password (optional) (if ssh-knownhosts is not specified, git will not perform strict host checking)'
                            properties:
                              name:
                                description: Object is expected to be within same namespace
                                type: string
                            type: object
                          subPath:
                            description: Grab only portion of repository (optional)
                            type: string
                          url:
                            description: http or ssh urls are supported (required)
                            type: string
                        type: object
                      http:
                        description: Uses http library to fetch file containing packages
                        properties:
                          secretRef:
                            description: 'Secret to provide auth details (optional) Secret may include one or more keys: username, password'
                            properties:
                              name:
                                description: Object is expected to be within same namespace
                                type: string
                            type: object
                          sha256:
                            description: Checksum to verify after download (optional)
                            type: string
                          subPath:
                            description: Grab only portion of download (optional)
                            type: string
                          url:
                            description: 'URL can point to one of following formats: text, tgz, zip http and https url are supported; plain file, tgz and tar types are supported (required)'
                            type: string
                        type: object
                      image:
                        description: Image url; unqualified, tagged, or digest references supported (required)
                        properties:
                          secretRef:
                            description: 'Secret may include one or more keys: username, password, token. By default anonymous access is used for authentication.'
                            properties:
                              name:
                                description: Object is expected to be within same namespace
                                type: string
                            type: object
                          subPath:
                            description: Grab only portion of image (optional)
                            type: string
                          tagSelection:
                            description: Specifies a strategy to choose a tag (optional; v0.24.0+) if specified, do not include a tag in url key
                            properties:
                              semver:
                                properties:
                                  constraints:
                                    type: string
                                  prereleases:
                                    properties:
                                      identifiers:
                                        items:
                                          type: string
                                        type: array
                                    type: object
                                type: object
                            type: object
                          url:
                            description: 'Docker image url; unqualified, tagged, or digest references supported (required) Example: username/app1-config:v0.1.0'
                            type: string
                        type: object
                      imgpkgBundle:
                        description: Pulls imgpkg bundle from Docker/OCI registry
                        properties:
                          image:
                            description: Docker image url; unqualified, tagged, or digest references supported (required)
                            type: string
                          secretRef:
                            description: 'Secret may include one or more keys: username, password, token. By default anonymous access is used for authentication.'
                            properties:
                              name:
                                description: Object is expected to be within same namespace
                                type: string
                            type: object
                          tagSelection:
                            description: Specifies a strategy to choose a tag (optional; v0.24.0+) if specified, do not include a tag in url key
                            properties:
                              semver:
                                properties:
                                  constraints:
                                    type: string
                                  prereleases:
                                    properties:
                                      identifiers:
                                        items:
                                          type: string
                                        type: array
                                    type: object
                                type: object
                            type: object
                        type: object
                      inline:
                        description: Pull content from within this resource; or other resources in the cluster
                        properties:
                          paths:
                            additionalProperties:
                              type: string
                            description: Specifies mapping of paths to their content; not recommended for sensitive values as CR is not encrypted (optional)
                            type: object
                          pathsFrom:
                            description: Specifies content via secrets and config maps; data values are recommended to be placed in secrets (optional)
                            items:
                              properties:
                                configMapRef:
                                  properties:
                                    directoryPath:
                                      description: Specifies where to place files found in secret (optional)
                                      type: string
                                    name:
                                      type: string
                                  type: object
                                secretRef:
                                  properties:
                                    directoryPath:
                                      description: Specifies where to place files found in secret (optional)
                                      type: string
                                    name:
                                      type: string
                                  type: object
                              type: object
                            type: array
                        type: object
                    type: object
                  paused:
                    description: Paused when set to true will ignore all pending changes, once it set back to false, pending changes will be applied
                    type: boolean
                  syncPeriod:
                    description: Controls frequency of PackageRepository reconciliation
                    type: string
                required:
                - fetch
                type: object
              status:
                properties:
                  conditions:
                    items:
                      properties:
                        message:
                          description: Human-readable message indicating details about last transition.
                          type: string
                        reason:
                          description: Unique, this should be a short, machine understandable string that gives the reason for condition's last transition. If it reports "ResizeStarted" that means the underlying persistent volume is being resized.
                          type: string
                        status:
                          type: string
                        type:
                          description: ConditionType represents reconciler state
                          type: string
                      required:
                      - status
                      - type
                      type: object
                    type: array
                  consecutiveReconcileFailures:
                    type: integer
                  consecutiveReconcileSuccesses:
                    type: integer
                  deploy:
                    properties:
                      error:
                        type: string
                      exitCode:
                        type: integer
                      finished:
                        type: boolean
                      startedAt:
                        format: date-time
                        type: string
                      stderr:
                        type: string
                      stdout:
                        type: string
                      updatedAt:
                        format: date-time
                        type: string
                    type: object
                  fetch:
                    properties:
                      error:
                        type: string
                      exitCode:
                        type: integer
                      startedAt:
                        format: date-time
                        type: string
                      stderr:
                        type: string
                      stdout:
                        type: string
                      updatedAt:
                        format: date-time
                        type: string
                    type: object
                  friendlyDescription:
                    type: string
                  observedGeneration:
                    description: Populated based on metadata.generation when controller observes a change to the resource; if this value is out of data, other status fields do not reflect latest state
                    format: int64
                    type: integer
                  template:
                    properties:
                      error:
                        type: string
                      exitCode:
                        type: integer
                      stderr:
                        type: string
                      updatedAt:
                        format: date-time
                        type: string
                    type: object
                  usefulErrorMessage:
                    type: string
                type: object
            required:
            - spec
            type: object
        served: true
        storage: true
        subresources:
          status: {}
    ---
    apiVersion: v1
    kind: ConfigMap
    metadata:
      name: kapp-controller-config
      namespace: tkg-system
      annotations:
        kapp.k14s.io/change-group: apps.kappctrl.k14s.io/kapp-controller-config
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    data:
      caCerts: ""
      httpProxy: ""
      httpsProxy: ""
      noProxy: ""
      dangerousSkipTLSVerify: ""
    ---
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      annotations:
        kapp-controller.carvel.dev/version: v0.38.5
        kapp.k14s.io/change-rule: upsert after upserting apps.kappctrl.k14s.io/kapp-controller-config
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
      name: kapp-controller
      namespace: tkg-system
    spec:
      replicas: 1
      revisionHistoryLimit: 0
      selector:
        matchLabels:
          app: kapp-controller
      template:
        metadata:
          labels:
            app: kapp-controller
        spec:
          containers:
          - args:
            - -packaging-global-namespace=tanzu-package-repo-global
            - -enable-api-priority-and-fairness=True
            - -tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
            - -concurrency=4
            - -metrics-bind-address=0
            env:
            - name: KAPPCTRL_MEM_TMP_DIR
              value: /etc/kappctrl-mem-tmp
            - name: KAPPCTRL_SIDECAREXEC_SOCK
              value: /etc/kappctrl-mem-tmp/sidecarexec.sock
            - name: KAPPCTRL_SYSTEM_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
            - name: KAPPCTRL_API_PORT
              value: "10100"
            image: projects.registry.vmware.com/tkg/kapp-controller:v0.38.5_vmware.2
            name: kapp-controller
            ports:
            - containerPort: 10100
              name: api
              protocol: TCP
            resources:
              requests:
                cpu: 120m
                memory: 100Mi
            securityContext:
              allowPrivilegeEscalation: false
              capabilities:
                drop:
                - all
              readOnlyRootFilesystem: true
              runAsNonRoot: true
            volumeMounts:
            - mountPath: /etc/kappctrl-mem-tmp
              name: template-fs
            - mountPath: /home/kapp-controller
              name: home
          - command:
            - /kapp-controller-sidecarexec
            env:
            - name: KAPPCTRL_SIDECAREXEC_SOCK
              value: /etc/kappctrl-mem-tmp/sidecarexec.sock
            image: projects.registry.vmware.com/tkg/kapp-controller:v0.38.5_vmware.2
            name: kapp-controller-sidecarexec
            resources:
              requests:
                cpu: 120m
                memory: 100Mi
            securityContext:
              allowPrivilegeEscalation: false
              capabilities:
                drop:
                - all
              readOnlyRootFilesystem: false
              runAsNonRoot: true
            volumeMounts:
            - mountPath: /etc/kappctrl-mem-tmp
              name: template-fs
            - mountPath: /home/kapp-controller
              name: home
            - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
              name: empty-sa
            - mountPath: /etc
              name: etc
          serviceAccount: kapp-controller-sa
          volumes:
          - emptyDir:
              medium: Memory
            name: template-fs
          - emptyDir:
              medium: Memory
            name: home
          - emptyDir: {}
            name: empty-sa
          - emptyDir:
              medium: Memory
            name: etc
          initContainers:
          - args:
            - -c
            - cp /etc/resolv.conf /etc/resolv.conf.bak; sed '1 i nameserver 100.64.0.10' /etc/resolv.conf.bak > /etc/resolv.conf; rm /etc/resolv.conf.bak; cp -R /etc/* /kapp-etc; chmod g+w /kapp-etc/pki/tls/certs/
            command:
            - /bin/sh
            image: projects.registry.vmware.com/tkg/kapp-controller:v0.38.5_vmware.2
            name: init-kapp-controller
            securityContext:
              allowPrivilegeEscalation: false
              runAsUser: 0
            volumeMounts:
            - mountPath: /kapp-etc
              name: etc
          hostNetwork: true
          priorityClassName: system-cluster-critical
          tolerations:
          - key: CriticalAddonsOnly
            operator: Exists
          - effect: NoSchedule
            key: node-role.kubernetes.io/master
          - effect: NoSchedule
            key: node.kubernetes.io/not-ready
          - effect: NoSchedule
            key: node.cloudprovider.kubernetes.io/uninitialized
            value: "true"
    ---
    apiVersion: v1
    kind: ServiceAccount
    metadata:
      name: kapp-controller-sa
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      name: kapp-controller-cluster-role
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    rules:
    - apiGroups:
      - ""
      resources:
      - secrets
      verbs:
      - create
      - get
      - list
      - watch
    - apiGroups:
      - ""
      resources:
      - serviceaccounts
      verbs:
      - get
    - apiGroups:
      - ""
      resources:
      - serviceaccounts/token
      verbs:
      - create
    - apiGroups:
      - kappctrl.k14s.io
      resources:
      - apps
      - apps/status
      verbs:
      - '*'
    - apiGroups:
      - packaging.carvel.dev
      resources:
      - packageinstalls
      - packageinstalls/status
      - packageinstalls/finalizers
      verbs:
      - '*'
    - apiGroups:
      - packaging.carvel.dev
      resources:
      - packagerepositories
      - packagerepositories/status
      verbs:
      - '*'
    - apiGroups:
      - internal.packaging.carvel.dev
      resources:
      - internalpackagemetadatas
      verbs:
      - '*'
    - apiGroups:
      - data.packaging.carvel.dev
      resources:
      - packagemetadatas
      - packagemetadatas/status
      verbs:
      - '*'
    - apiGroups:
      - internal.packaging.carvel.dev
      resources:
      - internalpackages
      verbs:
      - '*'
    - apiGroups:
      - data.packaging.carvel.dev
      resources:
      - packages
      - packages/status
      verbs:
      - '*'
    - apiGroups:
      - ""
      resources:
      - configmaps
      verbs:
      - '*'
    - apiGroups:
      - apiregistration.k8s.io
      resources:
      - apiservices
      verbs:
      - update
      - get
    - apiGroups:
      - ""
      resources:
      - namespaces
      verbs:
      - list
      - watch
      - get
      - update
    - apiGroups:
      - admissionregistration.k8s.io
      resources:
      - mutatingwebhookconfigurations
      verbs:
      - list
      - watch
    - apiGroups:
      - admissionregistration.k8s.io
      resources:
      - validatingwebhookconfigurations
      verbs:
      - list
      - watch
    - apiGroups:
      - authorization.k8s.io
      resources:
      - subjectaccessreviews
      verbs:
      - create
    - apiGroups:
      - flowcontrol.apiserver.k8s.io
      resources:
      - prioritylevelconfigurations
      - flowschemas
      verbs:
      - list
      - watch
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: kapp-controller-cluster-role-binding
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: kapp-controller-cluster-role
    subjects:
    - kind: ServiceAccount
      name: kapp-controller-sa
      namespace: tkg-system
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: pkg-apiserver:system:auth-delegator
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: system:auth-delegator
    subjects:
    - kind: ServiceAccount
      name: kapp-controller-sa
      namespace: tkg-system
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: RoleBinding
    metadata:
      name: pkgserver-auth-reader
      namespace: kube-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/kapp-controller
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: Role
      name: extension-apiserver-authentication-reader
    subjects:
    - kind: ServiceAccount
      name: kapp-controller-sa
      namespace: tkg-system
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: packages/management-package-repo
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-management-package-repository
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-management-package-repository-crs
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: packages/management-package-repo
  name: __CLUSTER_NAME__-management-package-repository-crs
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: packaging.carvel.dev/v1alpha1
    kind: PackageRepository
    metadata:
      name: tanzu-management
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package-repo
    spec:
      fetch:
        imgpkgBundle:
          image: projects.registry.vmware.com/tkg/packages/management/repo:v0.25.4
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: packages/management-package
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-core-management-plugins-package
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-core-management-plugins-package-crs
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: packages/management-package
  name: __CLUSTER_NAME__-core-management-plugins-package-crs
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: v1
    kind: ServiceAccount
    metadata:
      name: tanzu-core-management-plugins-package-sa
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      name: tanzu-core-management-plugins-package-cluster-role
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    rules:
    - apiGroups:
      - ""
      resources:
      - configmaps
      verbs:
      - create
      - update
      - get
    - apiGroups:
      - apiextensions.k8s.io
      resources:
      - customresourcedefinitions
      verbs:
      - create
      - update
      - get
    - apiGroups:
      - cli.tanzu.vmware.com
      resources:
      - cliplugins
      verbs:
      - create
      - get
      - patch
      - update
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: tanzu-core-management-plugins-package-cluster-rolebinding
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: tanzu-core-management-plugins-package-cluster-role
    subjects:
    - kind: ServiceAccount
      name: tanzu-core-management-plugins-package-sa
      namespace: tkg-system
    ---
    apiVersion: packaging.carvel.dev/v1alpha1
    kind: PackageInstall
    metadata:
      name: tanzu-core-management-plugins
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    spec:
      serviceAccountName: tanzu-core-management-plugins-package-sa
      packageRef:
        refName: core-management-plugins.tanzu.vmware.com
        versionSelection:
          prereleases: {}
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: packages/management-package
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-featuregates-default-resource
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-featuregates-default-resource-crs
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: packages/management-package
  name: __CLUSTER_NAME__-featuregates-default-resource-crs
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: config.tanzu.vmware.com/v1alpha1
    kind: FeatureGate
    metadata:
      name: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    spec:
      namespaceSelector: {}
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: packages/management-package
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-featuregates-package
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-featuregates-package-crs
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: packages/management-package
  name: __CLUSTER_NAME__-featuregates-package-crs
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: v1
    kind: ServiceAccount
    metadata:
      name: tanzu-featuregates-package-sa
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      name: tanzu-featuregates-package-cluster-role
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    rules:
    - apiGroups:
      - ""
      resources:
      - configmaps
      - serviceaccounts
      - services
      verbs:
      - create
      - update
      - get
    - apiGroups:
      - apps
      resources:
      - deployments
      verbs:
      - create
      - update
      - get
    - apiGroups:
      - apiextensions.k8s.io
      resources:
      - customresourcedefinitions
      verbs:
      - create
      - update
      - get
    - apiGroups:
      - cert-manager.io
      resources:
      - issuers
      - certificates
      verbs:
      - create
      - update
      - get
    - apiGroups:
      - admissionregistration.k8s.io
      resources:
      - validatingwebhookconfigurations
      verbs:
      - create
      - update
      - get
    - apiGroups:
      - rbac.authorization.k8s.io
      resources:
      - clusterroles
      - clusterrolebindings
      verbs:
      - create
      - update
      - get
    - apiGroups:
      - config.tanzu.vmware.com
      resources:
      - featuregates
      verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
    - apiGroups:
      - config.tanzu.vmware.com
      resources:
      - featuregates/status
      verbs:
      - get
      - patch
      - update
    - apiGroups:
      - config.tanzu.vmware.com
      resources:
      - features
      verbs:
      - get
      - list
      - watch
    - apiGroups:
      - config.tanzu.vmware.com
      resources:
      - features/status
      verbs:
      - get
      - patch
      - update
    - apiGroups:
      - ""
      resources:
      - namespaces
      verbs:
      - get
      - list
      - watch
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: tanzu-featuregates-package-cluster-rolebinding
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: tanzu-featuregates-package-cluster-role
    subjects:
    - kind: ServiceAccount
      name: tanzu-featuregates-package-sa
      namespace: tkg-system
    ---
    apiVersion: packaging.carvel.dev/v1alpha1
    kind: PackageInstall
    metadata:
      name: tanzu-featuregates
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    spec:
      serviceAccountName: tanzu-featuregates-package-sa
      packageRef:
        refName: featuregates.tanzu.vmware.com
        versionSelection:
          prereleases: {}
      values:
      - secretRef:
          name: tanzu-featuregates-values
    ---
    apiVersion: v1
    kind: Secret
    metadata:
      name: tanzu-featuregates-values
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: packages/management-package
    type: Opaque
    stringData:
      values.yaml: |
        namespace: tkg-system
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: metadata/tkg
  name: __CLUSTER_NAME__-tkg-metadata-namespace-role
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: v1
    kind: Namespace
    metadata:
      name: tkg-system-public
      annotations:
        tkg.tanzu.vmware.com/addon-type: metadata/tkg
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: Role
    metadata:
      name: tkg-metadata-reader
      namespace: tkg-system-public
      annotations:
        tkg.tanzu.vmware.com/addon-type: metadata/tkg
    rules:
    - apiGroups:
      - ""
      resourceNames:
      - tkg-metadata
      - tkg-bom
      resources:
      - configmaps
      verbs:
      - get
      - list
      - watch
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: RoleBinding
    metadata:
      name: tkg-metadata-reader
      namespace: tkg-system-public
      annotations:
        tkg.tanzu.vmware.com/addon-type: metadata/tkg
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: Role
      name: tkg-metadata-reader
    subjects:
    - apiGroup: rbac.authorization.k8s.io
      kind: Group
      name: system:authenticated
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: metadata/tkg
  name: __CLUSTER_NAME__-tkg-metadata-configmap
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: v1
    kind: ConfigMap
    metadata:
      name: tkg-metadata
      namespace: tkg-system-public
      annotations:
        tkg.tanzu.vmware.com/addon-type: metadata/tkg
    data:
      metadata.yaml: |
        cluster:
          name: __CLUSTER_NAME__
          type: management
          plan: prod
          kubernetesProvider: VMware Tanzu Kubernetes Grid
          tkgVersion: v1.6.1
          edition: tkg
          infrastructure:
            provider: vsphere
        bom:
          configmapRef:
            name: tkg-bom
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: metadata/tkg
  name: __CLUSTER_NAME__-tkg-metadata-bom-configmap
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: v1
    kind: ConfigMap
    metadata:
      name: tkg-bom
      namespace: tkg-system-public
      annotations:
        tkg.tanzu.vmware.com/addon-type: metadata/tkg
    data:
      bom.yaml: |
        apiVersion: run.tanzu.vmware.com/v1alpha2
        default:
          k8sVersion: v1.23.10+vmware.1-tkg.1
        release:
          version: v1.6.1
        components:
          aad-pod-identity:
          - version: v1.8.13+vmware.1
            images:
              micImage:
                imagePath: cluster-api/mic
                tag: v1.8.13_vmware.1
              nmiImage:
                imagePath: cluster-api/nmi
                tag: v1.8.13_vmware.1
          alertmanager:
          - version: v0.24.0+vmware.1
            images:
              alertmanagerImage:
                imagePath: prometheus/alertmanager
                tag: v0.24.0_vmware.1
          cloud-provider-azure:
          - version: v0.7.4+vmware.1
            images:
              ccmAzureControllerImage:
                imagePath: azure-cloud-controller-manager
                tag: v0.7.4_vmware.1
              ccmAzureNodeImage:
                imagePath: azure-cloud-node-manager
                tag: v0.7.4_vmware.1
          cluster-api-provider-azure:
          - version: v1.4.5+vmware.1
            images:
              capzControllerImage:
                imagePath: cluster-api/cluster-api-azure-controller
                tag: v1.4.5_vmware.1
          cluster_api:
          - version: v1.1.5+vmware.1
            images:
              cabpkControllerImage:
                imagePath: cluster-api/kubeadm-bootstrap-controller
                tag: v1.1.5_vmware.1
              capdManagerImage:
                imagePath: cluster-api/capd-manager
                tag: v1.1.5_vmware.1
              capiControllerImage:
                imagePath: cluster-api/cluster-api-controller
                tag: v1.1.5_vmware.1
              kcpControllerImage:
                imagePath: cluster-api/kubeadm-control-plane-controller
                tag: v1.1.5_vmware.1
          cluster_api_aws:
          - version: v1.2.0+vmware.1
            images:
              capaControllerImage:
                imagePath: cluster-api/cluster-api-aws-controller
                tag: v1.2.0_vmware.1
          cluster_api_vsphere:
          - version: v1.3.5+vmware.1
            images:
              capvControllerImage:
                imagePath: cluster-api/cluster-api-vsphere-controller
                tag: v1.3.5_vmware.1
          configmap-reload:
          - version: v0.7.1+vmware.1
            images:
              configmapReloadImage:
                imagePath: prometheus/configmap-reload
                tag: v0.7.1_vmware.1
          contour:
          - version: v1.17.2+vmware.1
            images:
              contourImage:
                imagePath: contour
                tag: v1.17.2_vmware.1
          - version: v1.18.2+vmware.1
            images:
              contourImage:
                imagePath: contour
                tag: v1.18.2_vmware.1
          - version: v1.20.2+vmware.1
            images:
              contourImage:
                imagePath: contour
                tag: v1.20.2_vmware.1
          crash-diagnostics:
          - version: v0.3.7+vmware.5
          envoy:
          - version: v1.18.4+vmware.1
            images:
              envoyImage:
                imagePath: envoy
                tag: v1.18.4_vmware.1
          - version: v1.19.1+vmware.1
            images:
              envoyImage:
                imagePath: envoy
                tag: v1.19.1_vmware.1
          - version: v1.21.3+vmware.1
            images:
              envoyImage:
                imagePath: envoy
                tag: v1.21.3_vmware.1
          external-dns:
          - version: v0.11.0+vmware.1
            images:
              externalDNSImage:
                imagePath: external-dns
                tag: v0.11.0_vmware.1
          fluent-bit:
          - version: v1.8.15+vmware.1
            images:
              fluentBitImage:
                imagePath: fluent-bit
                tag: v1.8.15_vmware.1
          grafana:
          - version: v7.5.16+vmware.1
            images:
              grafanaImage:
                imagePath: grafana/grafana
                tag: v7.5.16_vmware.1
          harbor:
          - version: v2.6.1+vmware.1
            images:
              harborChartMuseumImage:
                imagePath: harbor/chartmuseum-photon
                tag: v2.6.1_vmware.1
              harborCoreImage:
                imagePath: harbor/harbor-core
                tag: v2.6.1_vmware.1
              harborDatabaseImage:
                imagePath: harbor/harbor-db
                tag: v2.6.1_vmware.1
              harborExporterImage:
                imagePath: harbor/harbor-exporter
                tag: v2.6.1_vmware.1
              harborJobServiceImage:
                imagePath: harbor/harbor-jobservice
                tag: v2.6.1_vmware.1
              harborLogImage:
                imagePath: harbor/harbor-log
                tag: v2.6.1_vmware.1
              harborNginxImage:
                imagePath: harbor/nginx-photon
                tag: v2.6.1_vmware.1
              harborNotaryServerImage:
                imagePath: harbor/notary-server-photon
                tag: v2.6.1_vmware.1
              harborNotarySignerImage:
                imagePath: harbor/notary-signer-photon
                tag: v2.6.1_vmware.1
              harborPortalImage:
                imagePath: harbor/harbor-portal
                tag: v2.6.1_vmware.1
              harborPrepareImage:
                imagePath: harbor/prepare
                tag: v2.6.1_vmware.1
              harborRedisImage:
                imagePath: harbor/redis-photon
                tag: v2.6.1_vmware.1
              harborRegistryCtlImage:
                imagePath: harbor/harbor-registryctl
                tag: v2.6.1_vmware.1
              harborRegistryImage:
                imagePath: harbor/registry-photon
                tag: v2.6.1_vmware.1
              harborTrivyAdapterImage:
                imagePath: harbor/trivy-adapter-photon
                tag: v2.6.1_vmware.1
          image-builder:
          - version: v0.1.13+vmware.2
            images:
              imagebuilder-tar:
                imagePath: image-builder
                tag: v0.1.13_vmware.2
          imgpkg:
          - version: v0.29.0+vmware.1
          jetstack_cert-manager:
          - version: v1.5.3+vmware.6
            images:
              certMgrControllerImage:
                imagePath: cert-manager-controller
                tag: v1.5.3_vmware.6
              certMgrInjectorImage:
                imagePath: cert-manager-cainjector
                tag: v1.5.3_vmware.6
              certMgrWebhookImage:
                imagePath: cert-manager-webhook
                tag: v1.5.3_vmware.6
          - version: v1.7.2+vmware.1
            images:
              certMgrControllerImage:
                imagePath: cert-manager-controller
                tag: v1.7.2_vmware.1
              certMgrInjectorImage:
                imagePath: cert-manager-cainjector
                tag: v1.7.2_vmware.1
              certMgrWebhookImage:
                imagePath: cert-manager-webhook
                tag: v1.7.2_vmware.1
          k8s-sidecar:
          - version: v1.12.1+vmware.4
            images:
              k8sSidecarImage:
                imagePath: grafana/k8s-sidecar
                tag: v1.12.1_vmware.4
          - version: v1.15.6+vmware.1
            images:
              k8sSidecarImage:
                imagePath: grafana/k8s-sidecar
                tag: v1.15.6_vmware.1
          k14s_kapp:
          - version: v0.49.0+vmware.1
          k14s_ytt:
          - version: v0.41.1+vmware.1
          kbld:
          - version: v0.34.0+vmware.1
          kube-state-metrics:
          - version: v2.5.0+vmware.1
            images:
              kubeStateMetricsImage:
                imagePath: prometheus/kube-state-metrics
                tag: v2.5.0_vmware.1
          kube-vip:
          - version: v0.4.2+vmware.1
            images:
              kubeVipImage:
                imagePath: kube-vip
                tag: v0.4.2_vmware.1
          kube_rbac_proxy:
          - version: v0.11.0+vmware.2
            images:
              kubeRbacProxyControllerImage:
                imagePath: kube-rbac-proxy
                tag: v0.11.0_vmware.2
              kubeRbacProxyControllerImageCapi:
                imagePath: cluster-api/kube-rbac-proxy
                tag: v0.11.0_vmware.2
          kubernetes-sigs_kind:
          - version: v1.23.10+vmware.1-tkg.1_v0.11.1
            images:
              kindNodeImage:
                imagePath: kind/node
                tag: v1.23.10_vmware.1-tkg.1_v0.11.1
          kubernetes_autoscaler:
          - version: v1.23.0+vmware.1
            images:
              kubernetesAutoscalerImage:
                imagePath: cluster-autoscaler
                tag: v1.23.0_vmware.1
            metadata:
              k8sversion: v1.23.3+vmware.1
          - version: v1.22.0+vmware.1
            images:
              kubernetesAutoscalerImage:
                imagePath: cluster-autoscaler
                tag: v1.22.0_vmware.1
            metadata:
              k8sversion: v1.22.3+vmware.1
          - version: v1.21.0+vmware.1
            images:
              kubernetesAutoscalerImage:
                imagePath: cluster-autoscaler
                tag: v1.21.0_vmware.1
            metadata:
              k8sversion: v1.21.1+vmware.1
          multus-cni:
          - version: v3.8.0+vmware.1
            images:
              multusCniImage:
                imagePath: multus-cni
                tag: v3.8.0_vmware.1
          prometheus:
          - version: v2.36.2+vmware.1
            images:
              prometheusImage:
                imagePath: prometheus/prometheus
                tag: v2.36.2_vmware.1
          prometheus_node_exporter:
          - version: v1.3.1+vmware.1
            images:
              prometheusNodeExporterImage:
                imagePath: prometheus/prometheus_node_exporter
                tag: v1.3.1_vmware.1
          pushgateway:
          - version: v1.4.3+vmware.1
            images:
              pushgatewayImage:
                imagePath: prometheus/pushgateway
                tag: v1.4.3_vmware.1
          sonobuoy:
          - version: v0.56.6+vmware.1
            images:
              sonobuoyImage:
                imagePath: sonobuoy
                tag: v0.56.6_vmware.1
          standalone-plugins-package:
          - version: v0.25.4-standalone-plugins
            images:
              standalone-plugins.tanzu.vmware.com:
                imagePath: packages/standalone-plugins
                tag: v0.25.4_vmware.1
          tanzu-framework:
          - version: v0.25.4
            images:
              capabilitiesImage:
                imagePath: tanzu_core/capabilities/capabilities-controller-manager-tf
                tag: v0.25.4
              clipluginsClusterDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/cluster-darwin-amd64
                tag: v0.25.4
              clipluginsClusterDarwinAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/cluster-darwin-amd64
                tag: v0.25.4
              clipluginsClusterLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/cluster-linux-amd64
                tag: v0.25.4
              clipluginsClusterLinuxAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/cluster-linux-amd64
                tag: v0.25.4
              clipluginsClusterWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/cluster-windows-amd64
                tag: v0.25.4
              clipluginsClusterWindowsAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/cluster-windows-amd64
                tag: v0.25.4
              clipluginsFeatureDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/feature-darwin-amd64
                tag: v0.25.4
              clipluginsFeatureDarwinAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/feature-darwin-amd64
                tag: v0.25.4
              clipluginsFeatureLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/feature-linux-amd64
                tag: v0.25.4
              clipluginsFeatureLinuxAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/feature-linux-amd64
                tag: v0.25.4
              clipluginsFeatureWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/feature-windows-amd64
                tag: v0.25.4
              clipluginsFeatureWindowsAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/feature-windows-amd64
                tag: v0.25.4
              clipluginsKubernetesReleaseDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/kubernetes-release-darwin-amd64
                tag: v0.25.4
              clipluginsKubernetesReleaseDarwinAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/kubernetes-release-darwin-amd64
                tag: v0.25.4
              clipluginsKubernetesReleaseLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/kubernetes-release-linux-amd64
                tag: v0.25.4
              clipluginsKubernetesReleaseLinuxAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/kubernetes-release-linux-amd64
                tag: v0.25.4
              clipluginsKubernetesReleaseWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/kubernetes-release-windows-amd64
                tag: v0.25.4
              clipluginsKubernetesReleaseWindowsAmd64StaticImage:
                imagePath: tanzu_core/tanzu-cli-plugins/kubernetes-release-windows-amd64
                tag: v0.25.4
              clipluginsLoginDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/login-darwin-amd64
                tag: v0.25.4
              clipluginsLoginLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/login-linux-amd64
                tag: v0.25.4
              clipluginsLoginWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/login-windows-amd64
                tag: v0.25.4
              clipluginsManagementClusterDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/management-cluster-darwin-amd64
                tag: v0.25.4
              clipluginsManagementClusterLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/management-cluster-linux-amd64
                tag: v0.25.4
              clipluginsManagementClusterWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/management-cluster-windows-amd64
                tag: v0.25.4
              clipluginsPackageDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/package-darwin-amd64
                tag: v0.25.4
              clipluginsPackageLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/package-linux-amd64
                tag: v0.25.4
              clipluginsPackageWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/package-windows-amd64
                tag: v0.25.4
              clipluginsPinnipedAuthDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/pinniped-auth-darwin-amd64
                tag: v0.25.4
              clipluginsPinnipedAuthLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/pinniped-auth-linux-amd64
                tag: v0.25.4
              clipluginsPinnipedAuthWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/pinniped-auth-windows-amd64
                tag: v0.25.4
              clipluginsSecretDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/secret-darwin-amd64
                tag: v0.25.4
              clipluginsSecretLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/secret-linux-amd64
                tag: v0.25.4
              clipluginsSecretWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/secret-windows-amd64
                tag: v0.25.4
              clipluginsTelemetryDarwinAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/telemetry-darwin-amd64
                tag: v0.25.4
              clipluginsTelemetryLinuxAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/telemetry-linux-amd64
                tag: v0.25.4
              clipluginsTelemetryWindowsAmd64Image:
                imagePath: tanzu_core/tanzu-cli-plugins/telemetry-windows-amd64
                tag: v0.25.4
              featuregatesImage:
                imagePath: tanzu_core/featuregates/featuregates-controller-manager
                tag: v0.25.4
              objectPropagationControllerImage:
                imagePath: tanzu_core/objectpropogation/object-propagation-controller
                tag: v0.25.4
              providerTemplateImage:
                imagePath: tanzu_core/provider/provider-templates
                tag: v0.25.4
              tkrConversionWebhookImage:
                imagePath: tanzu_core/tkr/tkr-conversion-webhook
                tag: v0.25.4
              tkrImage:
                imagePath: tanzu_core/tkr/tkr-controller-manager
                tag: v0.25.4
              tkrInfraMachineImage:
                imagePath: tanzu_core/tkr/tkr-infra-machine-webhook
                tag: v0.25.4
              tkrResolverImage:
                imagePath: tanzu_core/tkr/tkr-resolver-cluster-webhook
                tag: v0.25.4
              tkrSourceControllerImage:
                imagePath: tanzu_core/tkr/tkr-source-controller
                tag: v0.25.4
              tkrStatusControllerImage:
                imagePath: tanzu_core/tkr/tkr-status-controller
                tag: v0.25.4
          tanzu-framework-management-packages:
          - version: v0.25.4
            images:
              tanzuFrameworkManagementPackageRepositoryImage:
                imagePath: packages/management/repo
                tag: v0.25.4
              tanzuFrameworkManagementPackageRepositoryImageUTKG:
                imagePath: packages/management/repo
                tag: v0.25.4-utkg
          tkg-bom:
          - version: v1.6.1
            images:
              tkgBomImage:
                imagePath: tkg-bom
                tag: v1.6.1
          tkg-standard-packages:
          - version: v1.6.1
            images:
              tanzuStandardPackageRepositoryImage:
                imagePath: packages/standard/repo
                tag: v1.6.1
          tkg_telemetry:
          - version: v1.6.0+vmware.1
            images:
              tkgTelemetryImage:
                imagePath: tkg-telemetry
                tag: v1.6.0_vmware.1
          velero:
          - version: v1.9.2+vmware.1
            images:
              veleroImage:
                imagePath: velero/velero
                tag: v1.9.2_vmware.1
              veleroResticRestoreHelperImage:
                imagePath: velero/velero-restic-restore-helper
                tag: v1.9.2_vmware.1
          velero-plugin-for-aws:
          - version: v1.5.1+vmware.1
            images:
              veleroPluginForAwsImage:
                imagePath: velero/velero-plugin-for-aws
                tag: v1.5.1_vmware.1
          velero-plugin-for-csi:
          - version: v0.3.1+vmware.1
            images:
              veleroPluginForCsiImage:
                imagePath: velero/velero-plugin-for-csi
                tag: v0.3.1_vmware.1
          velero-plugin-for-microsoft-azure:
          - version: v1.5.1+vmware.1
            images:
              veleroPluginForMicrosoftAzureImage:
                imagePath: velero/velero-plugin-for-microsoft-azure
                tag: v1.5.1_vmware.1
          velero-plugin-for-vsphere:
          - version: v1.4.0+vmware.1
            images:
              veleroBackupDriverImage:
                imagePath: velero/backup-driver
                tag: v1.4.0_vmware.1
              veleroDataManagerForPluginImage:
                imagePath: velero/data-manager-for-plugin
                tag: v1.4.0_vmware.1
              veleroPluginForVsphereImage:
                imagePath: velero/velero-plugin-for-vsphere
                tag: v1.4.0_vmware.1
          vendir:
          - version: v0.27.0+vmware.1
          whereabouts:
          - version: v0.5.1+vmware.2
            images:
              whereaboutsImage:
                imagePath: whereabouts
                tag: v0.5.1_vmware.2
        kindKubeadmConfigSpec:
        - 'kind: Cluster'
        - 'apiVersion: kind.x-k8s.io/v1alpha4'
        - 'kubeadmConfigPatches:'
        - '- |'
        - '  apiVersion: kubeadm.k8s.io/v1beta2'
        - '  kind: ClusterConfiguration'
        - '  imageRepository: projects.registry.vmware.com/tkg'
        - '  etcd:'
        - '    local:'
        - '      imageRepository: projects.registry.vmware.com/tkg'
        - '      imageTag: v3.5.4_vmware.7'
        - '  dns:'
        - '    type: CoreDNS'
        - '    imageRepository: projects.registry.vmware.com/tkg'
        - '    imageTag: v1.8.6_vmware.11'
        imageConfig:
          imageRepository: projects.registry.vmware.com/tkg
        tkr-bom:
          imagePath: tkr-bom
        tkr-compatibility:
          imagePath: tkr-compatibility
        tkr-package-repo:
          aws: tkr-repository-aws
          azure: tkr-repository-azure
          vsphere-nonparavirt: tkr-repository-vsphere-nonparavirt
        tkr-package:
          aws: tkr-aws
          azure: tkr-azure
          vsphere-nonparavirt: tkr-vsphere-nonparavirt
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: metadata/tkg
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-tkg-metadata
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-tkg-metadata-namespace-role
  - kind: Secret
    name: __CLUSTER_NAME__-tkg-metadata-configmap
  - kind: Secret
    name: __CLUSTER_NAME__-tkg-metadata-bom-configmap
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: metrics/metrics-server
  labels:
    clusterctl.cluster.x-k8s.io/move: ""
    tkg.tanzu.vmware.com/addon-name: metrics-server
    tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-metrics-server-addon
  namespace: __NAMESPACE_NAME__
stringData:
  values.yaml: |
    #@data/values
    #@overlay/match-child-defaults missing_ok=True
    ---
    metricsServer:
      namespace: kube-system
      config:
        args: []
        probe:
          failureThreshold: 3
          periodSeconds: 10
        apiServiceInsecureTLS: true
type: tkg.tanzu.vmware.com/addon
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/core-package-repo
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-core-package-repository
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-core-package-repository-crs
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/core-package-repo
  name: __CLUSTER_NAME__-core-package-repository-crs
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: packaging.carvel.dev/v1alpha1
    kind: PackageRepository
    metadata:
      name: tanzu-core
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/core-package-repo
    spec:
      fetch:
        imgpkgBundle:
          image: projects.registry.vmware.com/tkg/packages/core/repo:v1.23.10_vmware.1-tkg.1
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/secretgen-controller
  labels:
    clusterctl.cluster.x-k8s.io/move: ""
    tkg.tanzu.vmware.com/addon-name: secretgen-controller
    tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-secretgen-controller-addon
  namespace: __NAMESPACE_NAME__
stringData:
  values.yaml: |
    #@data/values
    #@overlay/match-child-defaults missing_ok=True
    ---
    secretgenController:
      namespace: tanzu-system
      createNamespace: true
type: tkg.tanzu.vmware.com/addon
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/standard-package-repo
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-standard-package-repository
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-standard-package-repository-crs
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/standard-package-repo
  name: __CLUSTER_NAME__-standard-package-repository-crs
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: packaging.carvel.dev/v1alpha1
    kind: PackageRepository
    metadata:
      name: tanzu-standard
      namespace: tanzu-package-repo-global
      annotations:
        tkg.tanzu.vmware.com/addon-type: addons-management/standard-package-repo
        tanzu.vmware.com/owner: tkg
    spec:
      fetch:
        imgpkgBundle:
          image: projects.registry.vmware.com/tkg/packages/standard/repo:v1.6.1
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/tanzu-addons-manager
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-tanzu-addons-manager-package
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-tanzu-addons-manager-package-crs
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/tanzu-addons-manager
  name: __CLUSTER_NAME__-tanzu-addons-manager-package-crs
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: v1
    kind: ServiceAccount
    metadata:
      name: tanzu-addons-package-sa
      namespace: tkg-system
      annotations:
        ext.packaging.carvel.dev/ytt-data-values-overlays: tanzu-addons-manager-data-values
        tkg.tanzu.vmware.com/addon-type: addons-management/tanzu-addons-manager
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      name: tanzu-addons-package-cluster-role
      annotations:
        ext.packaging.carvel.dev/ytt-data-values-overlays: tanzu-addons-manager-data-values
        tkg.tanzu.vmware.com/addon-type: addons-management/tanzu-addons-manager
    rules:
    - apiGroups:
      - '*'
      resources:
      - '*'
      verbs:
      - '*'
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: tanzu-addons-package-cluster-rolebinding
      annotations:
        ext.packaging.carvel.dev/ytt-data-values-overlays: tanzu-addons-manager-data-values
        tkg.tanzu.vmware.com/addon-type: addons-management/tanzu-addons-manager
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: tanzu-addons-package-cluster-role
    subjects:
    - kind: ServiceAccount
      name: tanzu-addons-package-sa
      namespace: tkg-system
    ---
    apiVersion: packaging.carvel.dev/v1alpha1
    kind: PackageInstall
    metadata:
      name: tanzu-addons-manager
      namespace: tkg-system
      annotations:
        ext.packaging.carvel.dev/ytt-data-values-overlays: tanzu-addons-manager-data-values
        tkg.tanzu.vmware.com/addon-type: addons-management/tanzu-addons-manager
    spec:
      serviceAccountName: tanzu-addons-package-sa
      packageRef:
        refName: addons-manager.tanzu.vmware.com
        versionSelection:
          prereleases: {}
      values:
      - secretRef:
          name: tanzu-addons-manager-data-values
    ---
    apiVersion: v1
    kind: Secret
    metadata:
      name: tanzu-addons-manager-data-values
      namespace: tkg-system
      annotations:
        ext.packaging.carvel.dev/ytt-data-values-overlays: tanzu-addons-manager-data-values
        tkg.tanzu.vmware.com/addon-type: addons-management/tanzu-addons-manager
    type: Opaque
    stringData:
      values.yaml: |
        #@data/values
        #@overlay/match-child-defaults missing_ok=True
        ---
        tanzuAddonsManager:
          namespace: tkg-system
          createNamespace: false
          deployment:
            hostNetwork: true
            priorityClassName: system-cluster-critical
            tolerations:
            - key: CriticalAddonsOnly
              operator: Exists
            - effect: NoSchedule
              key: node-role.kubernetes.io/master
          featureGates:
            clusterBootstrapController: false
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: addons-management/tanzu-addons-manager
  labels:
    clusterctl.cluster.x-k8s.io/move: ""
    tkg.tanzu.vmware.com/addon-name: tanzu-addons-manager
    tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-tanzu-addons-manager-addon
  namespace: __NAMESPACE_NAME__
stringData:
  values.yaml: |
    #@data/values
    #@overlay/match-child-defaults missing_ok=True
    ---
    tanzuAddonsManager:
      namespace: tkg-system
      createNamespace: false
      deployment:
        hostNetwork: true
        priorityClassName: system-cluster-critical
        tolerations:
        - key: CriticalAddonsOnly
          operator: Exists
        - effect: NoSchedule
          key: node-role.kubernetes.io/master
      featureGates:
        clusterBootstrapController: false
type: tkg.tanzu.vmware.com/addon
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-tkr
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-tkr
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
  name: __CLUSTER_NAME__-tkr
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: v1
    kind: Namespace
    metadata:
      labels:
        control-plane: controller-manager
      name: tkr-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
    ---
    apiVersion: v1
    kind: ConfigMap
    metadata:
      name: tkr-controller-config
      namespace: tkr-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
    data:
      caCerts: ""
      imageRepository: ""
    ---
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      annotations:
        controller-gen.kubebuilder.io/version: v0.7.0
        tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
      creationTimestamp: null
      name: tanzukubernetesreleases.run.tanzu.vmware.com
    spec:
      group: run.tanzu.vmware.com
      names:
        kind: TanzuKubernetesRelease
        listKind: TanzuKubernetesReleaseList
        plural: tanzukubernetesreleases
        shortNames:
        - tkr
        singular: tanzukubernetesrelease
      scope: Cluster
      versions:
      - additionalPrinterColumns:
        - jsonPath: .spec.version
          name: Version
          type: string
        - jsonPath: .status.conditions[?(@.type=='Compatible')].status
          name: Compatible
          type: string
        - jsonPath: .metadata.creationTimestamp
          name: Created
          type: date
        name: v1alpha1
        schema:
          openAPIV3Schema:
            description: TanzuKubernetesRelease is the schema for the tanzukubernetesreleases API. TanzuKubernetesRelease objects represent Kubernetes releases available via TKG, which can be used to create TanzuKubernetesCluster instances. TKRs are immutable to end-users. They are created and managed by TKG to provide discovery of Kubernetes releases to TKG users.
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                description: TanzuKubernetesReleaseSpec defines the desired state of TanzuKubernetesRelease
                properties:
                  images:
                    description: Images is the list of (other than Kubernetes core) essential container images shipped by this TKR (e.g. coredns, etcd).
                    items:
                      description: ContainerImage is a struct representing a single fully qualified container image name, constructed as `{Repository}/{Name}:{Tag}`.
                      properties:
                        name:
                          description: Name is the container image name without the repository prefix. It MUST be a valid URI path, MAY contain zero or more '/', and SHOULD NOT start or end with '/'.
                          type: string
                        repository:
                          description: Repository is the container image repository used by this image. It MUST be a DNS-compatible name.
                          type: string
                        tag:
                          description: Tag is the container image version tag. It is the suffix coming after ':' in a fully qualified image name.
                          type: string
                      required:
                      - name
                      type: object
                    type: array
                  kubernetesVersion:
                    description: KubernetesVersion is the fully qualified Semantic Versioning conformant version of Kubernetes shipped by this TKR. The same KubernetesVersion MAY be shipped by different TKRs.
                    type: string
                  nodeImageRef:
                    description: NodeImageRef refers to an object representing the image used to create TKC nodes (e.g. VirtualMachineImage).
                    properties:
                      apiVersion:
                        description: API version of the referent.
                        type: string
                      fieldPath:
                        description: 'If referring to a piece of an object instead of an entire object, this string should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2]. For example, if the object reference is to a container within a pod, this would take on a value like: "spec.containers{name}" (where "name" refers to the name of the container that triggered the event) or if no container name is specified "spec.containers[2]" (container with index 2 in this pod). This syntax is chosen only to have some well-defined way of referencing a part of an object. TODO: this design is not final and this field is subject to change in the future.'
                        type: string
                      kind:
                        description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                        type: string
                      name:
                        description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                        type: string
                      namespace:
                        description: 'Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                        type: string
                      resourceVersion:
                        description: 'Specific resourceVersion to which this reference is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                        type: string
                      uid:
                        description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                        type: string
                    type: object
                  repository:
                    description: Repository is the container image repository for Kubernetes core images, such as kube-apiserver, kube-proxy, etc. It MUST be a DNS-compatible name.
                    type: string
                  version:
                    description: Version is the fully qualified Semantic Versioning conformant version of the TanzuKubernetesRelease. Version MUST be unique across all TanzuKubernetesRelease objects.
                    type: string
                required:
                - version
                type: object
              status:
                description: TanzuKubernetesReleaseStatus defines the observed state of TanzuKubernetesRelease
                properties:
                  conditions:
                    items:
                      description: Condition defines an observation of a Cluster API resource operational state.
                      properties:
                        lastTransitionTime:
                          description: Last time the condition transitioned from one status to another. This should be when the underlying condition changed. If that is not known, then using the time when the API field changed is acceptable.
                          format: date-time
                          type: string
                        message:
                          description: A human readable message indicating details about the transition. This field may be empty.
                          type: string
                        reason:
                          description: The reason for the condition's last transition in CamelCase. The specific API may choose whether or not this field is considered a guaranteed API. This field may not be empty.
                          type: string
                        severity:
                          description: Severity provides an explicit classification of Reason code, so the users or machines can immediately understand the current situation and act accordingly. The Severity field MUST be set only when Status=False.
                          type: string
                        status:
                          description: Status of the condition, one of True, False, Unknown.
                          type: string
                        type:
                          description: Type of condition in CamelCase or in foo.example.com/CamelCase. Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be useful (see .node.status.conditions), the ability to deconflict is important.
                          type: string
                      required:
                      - lastTransitionTime
                      - status
                      - type
                      type: object
                    type: array
                type: object
            type: object
        served: true
        storage: true
        subresources:
          status: {}
    status:
      acceptedNames:
        kind: ""
        plural: ""
      conditions: []
      storedVersions: []
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: Role
    metadata:
      name: tkr-leader-election-role
      namespace: tkr-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
    rules:
    - apiGroups:
      - ""
      resources:
      - configmaps
      verbs:
      - get
      - list
      - watch
      - create
      - update
      - patch
      - delete
    - apiGroups:
      - ""
      resources:
      - configmaps/status
      verbs:
      - get
      - update
      - patch
    - apiGroups:
      - ""
      resources:
      - events
      verbs:
      - create
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      creationTimestamp: null
      name: tkr-manager-role
      annotations:
        tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
    rules:
    - apiGroups:
      - run.tanzu.vmware.com
      resources:
      - tanzukubernetesreleases
      verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
    - apiGroups:
      - run.tanzu.vmware.com
      resources:
      - tanzukubernetesreleases/status
      verbs:
      - get
      - patch
      - update
    - apiGroups:
      - cluster.x-k8s.io
      resources:
      - clusters
      - clusters/status
      verbs:
      - get
      - list
      - watch
    - apiGroups:
      - ""
      resources:
      - configmaps
      verbs:
      - get
      - list
      - watch
      - create
      - update
      - patch
      - delete
    - apiGroups:
      - coordination.k8s.io
      resources:
      - leases
      verbs:
      - create
      - get
      - update
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: RoleBinding
    metadata:
      name: tkr-leader-election-rolebinding
      namespace: tkr-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: Role
      name: tkr-leader-election-role
    subjects:
    - kind: ServiceAccount
      name: default
      namespace: tkr-system
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: tkr-manager-rolebinding
      annotations:
        tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: tkr-manager-role
    subjects:
    - kind: ServiceAccount
      name: default
      namespace: tkr-system
    ---
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        control-plane: controller-manager
      name: tkr-controller-manager
      namespace: tkr-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: tkr/tkr-controller
    spec:
      replicas: 1
      selector:
        matchLabels:
          control-plane: controller-manager
      template:
        metadata:
          labels:
            control-plane: controller-manager
        spec:
          containers:
          - args:
            - --enable-leader-election
            - --bom-image-path=projects.registry.vmware.com/tkg/tkr-bom
            - --bom-metadata-image-path=projects.registry.vmware.com/tkg/tkr-compatibility
            - --skip-verify-registry-cert=False
            - --continuous-discover-frequency=600
            command:
            - /manager
            image: projects.registry.vmware.com/tkg/tanzu_core/tkr/tkr-controller-manager:v0.25.4
            imagePullPolicy: Always
            name: manager
            resources:
              limits:
                cpu: 100m
                memory: 100Mi
              requests:
                cpu: 100m
                memory: 20Mi
          terminationGracePeriodSeconds: 10
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: addons.cluster.x-k8s.io/v1beta1
kind: ClusterResourceSet
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: capabilities/capabilities-controller
  labels:
    cluster.x-k8s.io/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-capabilities
  namespace: __NAMESPACE_NAME__
spec:
  clusterSelector:
    matchLabels:
      tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  resources:
  - kind: Secret
    name: __CLUSTER_NAME__-capabilities
  strategy: ApplyOnce
---
apiVersion: v1
kind: Secret
metadata:
  annotations:
    tkg.tanzu.vmware.com/addon-type: capabilities/capabilities-controller
  name: __CLUSTER_NAME__-capabilities
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    apiVersion: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    metadata:
      annotations:
        controller-gen.kubebuilder.io/version: v0.7.0
        tkg.tanzu.vmware.com/addon-type: capabilities/capabilities-controller
      creationTimestamp: null
      name: capabilities.run.tanzu.vmware.com
    spec:
      group: run.tanzu.vmware.com
      names:
        kind: Capability
        listKind: CapabilityList
        plural: capabilities
        singular: capability
      scope: Namespaced
      versions:
      - name: v1alpha1
        schema:
          openAPIV3Schema:
            description: Capability is the Schema for the capabilities API
            properties:
              apiVersion:
                description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                type: string
              kind:
                description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                type: string
              metadata:
                type: object
              spec:
                description: Spec is the capability spec that has cluster queries.
                properties:
                  queries:
                    description: Queries specifies set of queries that are evaluated.
                    items:
                      description: Query is a logical grouping of GVR, Object and PartialSchema queries.
                      properties:
                        groupVersionResources:
                          description: GroupVersionResources evaluates a slice of GVR queries.
                          items:
                            description: QueryGVR queries for an API group with the optional ability to check for API versions and resource.
                            properties:
                              group:
                                description: Group is the API group to check for in the cluster.
                                minLength: 1
                                type: string
                              name:
                                description: Name is the unique name of the query.
                                minLength: 1
                                type: string
                              resource:
                                description: Resource is the API resource to check for given an API group and a slice of versions. Specifying a Resource requires at least one version to be specified in Versions.
                                type: string
                              versions:
                                description: Versions is the slice of versions to check for in the specified API group.
                                items:
                                  type: string
                                type: array
                            required:
                            - group
                            - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                          - name
                          x-kubernetes-list-type: map
                        name:
                          description: Name is the unique name of the query.
                          minLength: 1
                          type: string
                        objects:
                          description: Objects evaluates a slice of Object queries.
                          items:
                            description: QueryObject represents any runtime.Object that could exist in a cluster with the ability to check for annotations.
                            properties:
                              name:
                                description: Name is the unique name of the query.
                                minLength: 1
                                type: string
                              objectReference:
                                description: ObjectReference is the ObjectReference to check for in the cluster.
                                properties:
                                  apiVersion:
                                    description: API version of the referent.
                                    type: string
                                  fieldPath:
                                    description: 'If referring to a piece of an object instead of an entire object, this string should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2]. For example, if the object reference is to a container within a pod, this would take on a value like: "spec.containers{name}" (where "name" refers to the name of the container that triggered the event) or if no container name is specified "spec.containers[2]" (container with index 2 in this pod). This syntax is chosen only to have some well-defined way of referencing a part of an object. TODO: this design is not final and this field is subject to change in the future.'
                                    type: string
                                  kind:
                                    description: 'Kind of the referent. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                                    type: string
                                  name:
                                    description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                                    type: string
                                  namespace:
                                    description: 'Namespace of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/'
                                    type: string
                                  resourceVersion:
                                    description: 'Specific resourceVersion to which this reference is made, if any. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency'
                                    type: string
                                  uid:
                                    description: 'UID of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids'
                                    type: string
                                type: object
                              withAnnotations:
                                additionalProperties:
                                  type: string
                                description: WithAnnotations are the annotations whose presence is checked in the object. The query succeeds only if all the annotations specified exists.
                                type: object
                              withoutAnnotations:
                                additionalProperties:
                                  type: string
                                description: WithAnnotations are the annotations whose absence is checked in the object. The query succeeds only if all the annotations specified do not exist.
                                type: object
                            required:
                            - name
                            - objectReference
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                          - name
                          x-kubernetes-list-type: map
                        partialSchemas:
                          description: PartialSchemas evaluates a slice of PartialSchema queries.
                          items:
                            description: QueryPartialSchema queries for any OpenAPI schema that may exist on a cluster.
                            properties:
                              name:
                                description: Name is the unique name of the query.
                                minLength: 1
                                type: string
                              partialSchema:
                                description: PartialSchema is the partial OpenAPI schema that will be matched in a cluster.
                                minLength: 1
                                type: string
                            required:
                            - name
                            - partialSchema
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                          - name
                          x-kubernetes-list-type: map
                      required:
                      - name
                      type: object
                    type: array
                    x-kubernetes-list-map-keys:
                    - name
                    x-kubernetes-list-type: map
                  serviceAccountName:
                    description: ServiceAccountName is the name of the service account with which requests are made to the API server for evaluating queries. Service account should exist in the same namespace as this resource. When this field is not specified, a default service account with only the ability to execute GVR queries is used.
                    type: string
                required:
                - queries
                type: object
              status:
                description: Status is the capability status that has results of cluster queries.
                properties:
                  results:
                    description: Results represents the results of all the queries specified in the spec.
                    items:
                      description: Result represents the results of queries in Query.
                      properties:
                        groupVersionResources:
                          description: GroupVersionResources represents results of GVR queries in spec.
                          items:
                            description: QueryResult represents the result of a single query.
                            properties:
                              error:
                                description: Error indicates if an error occurred while processing the query.
                                type: boolean
                              errorDetail:
                                description: ErrorDetail represents the error detail, if an error occurred.
                                type: string
                              found:
                                description: Found is a boolean which indicates if the query condition succeeded.
                                type: boolean
                              name:
                                description: Name is the name of the query in spec whose result this struct represents.
                                minLength: 1
                                type: string
                              notFoundReason:
                                description: NotFoundReason provides the reason if the query condition fails. This is non-empty when Found is false.
                                type: string
                            required:
                            - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                          - name
                          x-kubernetes-list-type: map
                        name:
                          description: Name is the unique name of the query.
                          minLength: 1
                          type: string
                        objects:
                          description: Objects represents results of Object queries in spec.
                          items:
                            description: QueryResult represents the result of a single query.
                            properties:
                              error:
                                description: Error indicates if an error occurred while processing the query.
                                type: boolean
                              errorDetail:
                                description: ErrorDetail represents the error detail, if an error occurred.
                                type: string
                              found:
                                description: Found is a boolean which indicates if the query condition succeeded.
                                type: boolean
                              name:
                                description: Name is the name of the query in spec whose result this struct represents.
                                minLength: 1
                                type: string
                              notFoundReason:
                                description: NotFoundReason provides the reason if the query condition fails. This is non-empty when Found is false.
                                type: string
                            required:
                            - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                          - name
                          x-kubernetes-list-type: map
                        partialSchemas:
                          description: PartialSchemas represents results of PartialSchema queries in spec.
                          items:
                            description: QueryResult represents the result of a single query.
                            properties:
                              error:
                                description: Error indicates if an error occurred while processing the query.
                                type: boolean
                              errorDetail:
                                description: ErrorDetail represents the error detail, if an error occurred.
                                type: string
                              found:
                                description: Found is a boolean which indicates if the query condition succeeded.
                                type: boolean
                              name:
                                description: Name is the name of the query in spec whose result this struct represents.
                                minLength: 1
                                type: string
                              notFoundReason:
                                description: NotFoundReason provides the reason if the query condition fails. This is non-empty when Found is false.
                                type: string
                            required:
                            - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                          - name
                          x-kubernetes-list-type: map
                      required:
                      - name
                      type: object
                    type: array
                    x-kubernetes-list-map-keys:
                    - name
                    x-kubernetes-list-type: map
                required:
                - results
                type: object
            type: object
        served: true
        storage: true
        subresources:
          status: {}
    ---
    apiVersion: v1
    kind: ServiceAccount
    metadata:
      labels:
        app: tanzu-capabilities-manager
      name: tanzu-capabilities-manager-sa
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: capabilities/capabilities-controller
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      name: tanzu-capabilities-manager-clusterrole
      annotations:
        tkg.tanzu.vmware.com/addon-type: capabilities/capabilities-controller
    rules:
    - apiGroups:
      - run.tanzu.vmware.com
      resources:
      - capabilities
      verbs:
      - create
      - delete
      - get
      - list
      - patch
      - update
      - watch
    - apiGroups:
      - run.tanzu.vmware.com
      resources:
      - capabilities/status
      verbs:
      - get
      - patch
      - update
    - apiGroups:
      - ""
      resources:
      - serviceaccounts
      - secrets
      verbs:
      - get
      - list
      - watch
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: tanzu-capabilities-manager-clusterrolebinding
      annotations:
        tkg.tanzu.vmware.com/addon-type: capabilities/capabilities-controller
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: tanzu-capabilities-manager-clusterrole
    subjects:
    - kind: ServiceAccount
      name: tanzu-capabilities-manager-sa
      namespace: tkg-system
    ---
    apiVersion: v1
    kind: ServiceAccount
    metadata:
      labels:
        app: tanzu-capabilities-manager
      name: tanzu-capabilities-manager-default-sa
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: capabilities/capabilities-controller
    ---
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      labels:
        app: tanzu-capabilities-manager
      name: tanzu-capabilities-controller-manager
      namespace: tkg-system
      annotations:
        tkg.tanzu.vmware.com/addon-type: capabilities/capabilities-controller
    spec:
      replicas: 1
      selector:
        matchLabels:
          app: tanzu-capabilities-manager
      template:
        metadata:
          labels:
            app: tanzu-capabilities-manager
        spec:
          containers:
          - image: projects.registry.vmware.com/tkg/tanzu_core/capabilities/capabilities-controller-manager-tf:v0.25.4
            imagePullPolicy: IfNotPresent
            name: manager
            resources:
              limits:
                cpu: 100m
                memory: 30Mi
              requests:
                cpu: 100m
                memory: 20Mi
          serviceAccount: tanzu-capabilities-manager-sa
          terminationGracePeriodSeconds: 10
          tolerations:
          - effect: NoSchedule
            key: node-role.kubernetes.io/master
type: addons.cluster.x-k8s.io/resource-set
---
apiVersion: v1
kind: Secret
metadata:
  labels:
    clusterctl.cluster.x-k8s.io/move: ""
    tkg.tanzu.vmware.com/cluster-name: __CLUSTER_NAME__
  name: __CLUSTER_NAME__-config-values
  namespace: __NAMESPACE_NAME__
stringData:
  value: |
    CLUSTER_NAME: __CLUSTER_NAME__
    CLUSTER_PLAN: prod
    NAMESPACE: tkg-system
    INFRASTRUCTURE_PROVIDER: vsphere
    IS_WINDOWS_WORKLOAD_CLUSTER: false
    SIZE: null
    CONTROLPLANE_SIZE: null
    WORKER_SIZE: null
    ENABLE_CEIP_PARTICIPATION: false
    DEPLOY_TKG_ON_VSPHERE7: null
    ENABLE_TKGS_ON_VSPHERE7: null
    VSPHERE_NUM_CPUS: 2
    VSPHERE_DISK_GIB: 40
    VSPHERE_MEM_MIB: 4096
    VSPHERE_CONTROL_PLANE_NUM_CPUS: 2
    VSPHERE_CONTROL_PLANE_DISK_GIB: 20
    VSPHERE_CONTROL_PLANE_MEM_MIB: 4096
    VSPHERE_WORKER_NUM_CPUS: 2
    VSPHERE_WORKER_DISK_GIB: 20
    VSPHERE_WORKER_MEM_MIB: 4096
    VSPHERE_CLONE_MODE: fullClone
    VSPHERE_NETWORK: /DC1/network/Avi Management Segment
    VSPHERE_TEMPLATE: /DC1/vm/crs123template
    VIP_NETWORK_INTERFACE: eth0
    VSPHERE_SSH_AUTHORIZED_KEY: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC6w6uijkfNj8bhvzO3FusP5aN/731KrMAteqNQZfOfhLyVE/aVfpRYzjFIC4yvrl8LkSMZz7XY6RGhaMUPPjpB+/Xyqfc8qPAnzJ3K3UuHkNH2dHPngF+ffN0ZNZXoRBOzWHnCPOvD0iz0XC73/CK18Yd0wmq16PVexYHnpy1X+t16s7zyay32YwEaa+vjs0/Wvxreq9wT148WFMP+9Czjm5vB/5yvH/g24zav7LiF0ytyarEn5+X0oGgkC9EJrrvEzym/tacChnGw/aXs7NmQxJMG8jKm+gAe/oLAE+qK37bFyCm39LsMdHyYsKf+iRjwDu4pI1x+6dO6++HPW1SYMaRNIQROHb71COVW9rp5XFmmP8KJc4bzSuLUYJmvxJKJ22Zn7TqYPGee7ZSOoZ4kmGH27T0AxrgVok/wazNiNTAyGCF88hwSd1kQNSrFyFdbEZUXN3VUfEvcVILMQF/+nVH70/MO/u9wJBHUYNjK73hmG+zu8F5CwEu/B6Q/tIKEeqqaU+XUSRDHpf3D8Khrtr1WwuF0PWa7fRuOa4QfwkEnnF88nYpDLnZUcsnNaTcXJuM3Zzr3eiV3eOj2MOrI+BYDU4IWBHimcaNk9hrM3RCNSnTHkt9reoUCz2q7lTcmMk+HcebKQ+32jdoFI79xlxbfgFxxfw0sxyYSB1cetw==
    VSPHERE_USERNAME: administrator@vsphere.local
    VSPHERE_REGION: null
    VSPHERE_ZONE: null
    VSPHERE_SERVER: atl1-vcd-static-132-236.eng.vmware.com
    VSPHERE_DATACENTER: /DC1
    VSPHERE_RESOURCE_POOL: /DC1/host/TestbedCluster2/Resources
    VSPHERE_DATASTORE: /DC1/datastore/local-datastore-4
    VSPHERE_FOLDER: /DC1/vm/cassini/cluster-org (8f69d43f-c12b-4088-8aec-b1e8c82cd8ae)
    VSPHERE_STORAGE_POLICY_ID: ""
    VSPHERE_TLS_THUMBPRINT: ""
    VSPHERE_INSECURE: true
    VSPHERE_CONTROL_PLANE_ENDPOINT: 1.2.3.4
    VSPHERE_CONTROL_PLANE_ENDPOINT_PORT: 6443
    NSXT_POD_ROUTING_ENABLED: false
    NSXT_ROUTER_PATH: ""
    NSXT_USERNAME: ""
    NSXT_MANAGER_HOST: ""
    NSXT_ALLOW_UNVERIFIED_SSL: "false"
    NSXT_REMOTE_AUTH: "false"
    NSXT_VMC_ACCESS_TOKEN: ""
    NSXT_VMC_AUTH_HOST: ""
    NSXT_CLIENT_CERT_KEY_DATA: ""
    NSXT_CLIENT_CERT_DATA: ""
    NSXT_ROOT_CA_DATA_B64: ""
    NSXT_SECRET_NAME: cloud-provider-vsphere-nsxt-credentials
    NSXT_SECRET_NAMESPACE: kube-system
    ENABLE_OIDC: false
    OIDC_ISSUER_URL: null
    OIDC_USERNAME_CLAIM: null
    OIDC_GROUPS_CLAIM: null
    OIDC_DEX_CA: null
    ENABLE_MHC: false
    ENABLE_MHC_WORKER_NODE: true
    ENABLE_MHC_CONTROL_PLANE: true
    MHC_UNKNOWN_STATUS_TIMEOUT: 5m
    MHC_FALSE_STATUS_TIMEOUT: 12m
    TKG_CUSTOM_IMAGE_REPOSITORY: ""
    TKG_CUSTOM_IMAGE_REPOSITORY_SKIP_TLS_VERIFY: false
    TKG_CUSTOM_IMAGE_REPOSITORY_CA_CERTIFICATE: ""
    TKG_HTTP_PROXY: ""
    TKG_HTTPS_PROXY: ""
    TKG_NO_PROXY: ""
    TKG_PROXY_CA_CERT: ""
    TKG_IP_FAMILY: null
    ENABLE_AUDIT_LOGGING: false
    ENABLE_DEFAULT_STORAGE_CLASS: true
    CLUSTER_CIDR: 100.96.0.0/11
    SERVICE_CIDR: 100.64.0.0/13
    NODE_STARTUP_TIMEOUT: 20m
    CONTROL_PLANE_MACHINE_COUNT: 3
    WORKER_MACHINE_COUNT: 1
    WORKER_MACHINE_COUNT_0: 1
    WORKER_MACHINE_COUNT_1: 1
    WORKER_MACHINE_COUNT_2: 1
    OS_NAME: ubuntu
    OS_VERSION: 20.04
    OS_ARCH: amd64
    ENABLE_AUTOSCALER: false
    AUTOSCALER_MAX_NODES_TOTAL: "0"
    AUTOSCALER_SCALE_DOWN_DELAY_AFTER_ADD: 10m
    AUTOSCALER_SCALE_DOWN_DELAY_AFTER_DELETE: 10s
    AUTOSCALER_SCALE_DOWN_DELAY_AFTER_FAILURE: 3m
    AUTOSCALER_SCALE_DOWN_UNNEEDED_TIME: 10m
    AUTOSCALER_MAX_NODE_PROVISION_TIME: 15m
    AUTOSCALER_MIN_SIZE_0: null
    AUTOSCALER_MAX_SIZE_0: null
    AUTOSCALER_MIN_SIZE_1: null
    AUTOSCALER_MAX_SIZE_1: null
    AUTOSCALER_MIN_SIZE_2: null
    AUTOSCALER_MAX_SIZE_2: null
    IDENTITY_MANAGEMENT_TYPE: none
    CERT_DURATION: 2160h
    CERT_RENEW_BEFORE: 360h
    OIDC_IDENTITY_PROVIDER_NAME: ""
    OIDC_IDENTITY_PROVIDER_ISSUER_URL: ""
    OIDC_IDENTITY_PROVIDER_CLIENT_ID: ""
    OIDC_IDENTITY_PROVIDER_SCOPES: ""
    OIDC_IDENTITY_PROVIDER_USERNAME_CLAIM: ""
    OIDC_IDENTITY_PROVIDER_GROUPS_CLAIM: ""
    SUPERVISOR_ISSUER_URL: null
    SUPERVISOR_ISSUER_CA_BUNDLE_DATA_B64: null
    LDAP_BIND_DN: ""
    LDAP_HOST: ""
    LDAP_USER_SEARCH_BASE_DN: ""
    LDAP_USER_SEARCH_FILTER: ""
    LDAP_USER_SEARCH_USERNAME: userPrincipalName
    LDAP_USER_SEARCH_ID_ATTRIBUTE: DN
    LDAP_USER_SEARCH_EMAIL_ATTRIBUTE: DN
    LDAP_USER_SEARCH_NAME_ATTRIBUTE: ""
    LDAP_GROUP_SEARCH_BASE_DN: ""
    LDAP_GROUP_SEARCH_FILTER: ""
    LDAP_GROUP_SEARCH_USER_ATTRIBUTE: DN
    LDAP_GROUP_SEARCH_GROUP_ATTRIBUTE: ""
    LDAP_GROUP_SEARCH_NAME_ATTRIBUTE: cn
    LDAP_ROOT_CA_DATA_B64: ""
    AVI_ENABLE: false
    AVI_NAMESPACE: tkg-system-networking
    AVI_DISABLE_INGRESS_CLASS: true
    AVI_AKO_IMAGE_PULL_POLICY: IfNotPresent
    AVI_ADMIN_CREDENTIAL_NAME: avi-controller-credentials
    AVI_CA_NAME: avi-controller-ca
    AVI_CONTROLLER: ""
    AVI_USERNAME: ""
    AVI_CLOUD_NAME: ""
    AVI_SERVICE_ENGINE_GROUP: ""
    AVI_DATA_NETWORK: ""
    AVI_DATA_NETWORK_CIDR: ""
    AVI_MANAGEMENT_CLUSTER_VIP_NETWORK_NAME: ""
    AVI_MANAGEMENT_CLUSTER_VIP_NETWORK_CIDR: ""
    AVI_CA_DATA_B64: ""
    AVI_LABELS: ""
    AVI_DISABLE_STATIC_ROUTE_SYNC: true
    AVI_INGRESS_DEFAULT_INGRESS_CONTROLLER: false
    AVI_INGRESS_SHARD_VS_SIZE: ""
    AVI_INGRESS_SERVICE_TYPE: ""
    AVI_INGRESS_NODE_NETWORK_LIST: ""
    AVI_CONTROL_PLANE_HA_PROVIDER: false
    ANTREA_NO_SNAT: false
    ANTREA_TRAFFIC_ENCAP_MODE: encap
    ANTREA_PROXY: true
    ANTREA_ENDPOINTSLICE: true
    ANTREA_POLICY: true
    ANTREA_NODEPORTLOCAL: true
    ANTREA_TRACEFLOW: true
    ANTREA_EGRESS: true
    ANTREA_FLOWEXPORTER: false
    ANTREA_DISABLE_UDP_TUNNEL_OFFLOAD: false
    PROVIDER_TYPE: vsphere
    TKG_CLUSTER_ROLE: management
    TKG_VERSION: v1.6.1
    CNI: antrea
    VSPHERE_VERSION: 7.0.2
type: addons.cluster.x-k8s.io/resource-set